10:41 A0:SYSTEM>pip p:=a:listing.txt

10:42 A0:SYSTEM>p:wdump             

Z180 Memory
 C000 | 30 31 37 20 20 3B 0D 0A  20 20 20 20 20 20 20 20  |  017  ;..         
 C010 | 20 20 20 20 20 20 20 20  20 20 20 20 30 30 31 38  |              0018 
 C020 | 20 20 3B 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |    ;..            
 C030 | 20 20 20 20 20 20 20 20  20 30 30 31 39 20 20 3B  |           0019  ; 
 C040 | 20 53 74 61 72 74 20 63  6F 6E 64 69 74 69 6F 6E  |   Start condition 
 C050 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C060 | 20 20 20 20 20 53 74 6F  70 20 63 6F 6E 64 69 74  |       Stop condit 
 C070 | 69 6F 6E 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  ion..            
 C080 | 20 20 20 20 20 20 20 20  20 30 30 32 30 20 20 3B  |           0020  ; 
 C090 | 20 4F 75 74 70 75 74 20  62 79 20 6D 61 73 74 65  |   Output by maste 
 C0A0 | 72 20 64 65 76 69 63 65  20 20 20 20 20 20 20 20  |  r device         
 C0B0 | 20 20 20 20 20 4F 75 74  70 75 74 20 62 79 20 6D  |       Output by m 
 C0C0 | 61 73 74 65 72 20 64 65  76 69 63 65 0D 0A 20 20  |  aster device..   
 C0D0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C0E0 | 20 20 30 30 32 31 20 20  3B 20 20 20 20 20 20 20  |    0021  ;        
 C0F0 | 2D 2D 2D 2D 2B 20 20 20  20 20 20 20 20 20 20 20  |  ----+            
 C100 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C110 | 20 20 20 20 20 20 20 20  20 20 20 2B 2D 2D 2D 2D  |             +---- 
 C120 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C130 | 20 20 20 20 20 20 30 30  32 32 20 20 3B 20 53 44  |        0022  ; SD 
 C140 | 41 20 20 20 20 20 20 20  7C 20 20 20 20 20 20 20  |  A       |        
 C150 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C160 | 20 20 53 44 41 20 20 20  20 20 20 20 20 20 20 7C  |    SDA          | 
 C170 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C180 | 20 20 20 20 20 20 30 30  32 33 20 20 3B 20 20 20  |        0023  ;    
 C190 | 20 20 20 20 20 20 20 20  2B 2D 2D 2D 2D 2D 2D 2D  |          +------- 
 C1A0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C1B0 | 20 20 20 20 20 20 20 20  2D 2D 2D 2D 2D 2D 2D 2B  |          -------+ 
 C1C0 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C1D0 | 20 20 20 20 20 20 30 30  32 34 20 20 3B 20 20 20  |        0024  ;    
 C1E0 | 20 20 20 20 2D 2D 2D 2D  2D 2D 2D 2B 20 20 20 20  |      -------+     
 C1F0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C200 | 20 20 20 20 20 20 20 20  20 20 20 20 2B 2D 2D 2D  |              +--- 
 C210 | 2D 2D 2D 2D 0D 0A 20 20  20 20 20 20 20 20 20 20  |  ----..           
 C220 | 20 20 20 20 20 20 20 20  20 20 30 30 32 35 20 20  |            0025   
 C230 | 3B 20 53 43 4C 20 20 20  20 20 20 20 20 20 20 7C  |  ; SCL          | 
 C240 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C250 | 20 20 20 20 20 20 53 43  4C 20 20 20 20 20 20 20  |        SCL        
 C260 | 7C 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  |..              
 C270 | 20 20 20 20 20 20 20 30  30 32 36 20 20 3B 20 20  |         0026  ;   
 C280 | 20 20 20 20 20 20 20 20  20 20 20 20 2B 2D 2D 2D  |              +--- 
 C290 | 2D 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  -                
 C2A0 | 20 20 20 20 20 20 20 20  20 2D 2D 2D 2D 2B 0D 0A  |           ----+.. 
 C2B0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C2C0 | 20 20 20 20 30 30 32 37  20 20 3B 0D 0A 20 20 20  |      0027  ;..    
 C2D0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C2E0 | 20 30 30 32 38 20 20 3B  0D 0A 20 20 20 20 20 20  |   0028  ;..       
 C2F0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 30  |                00 
 C300 | 32 39 20 20 3B 20 41 64  64 72 65 73 73 20 66 72  |  29  ; Address fr 
 C310 | 61 6D 65 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  ame..            
 C320 | 20 20 20 20 20 20 20 20  20 30 30 33 30 20 20 3B  |           0030  ; 
 C330 | 20 43 6C 6F 63 6B 20 61  6E 64 20 64 61 74 61 20  |   Clock and data  
 C340 | 6F 75 74 70 75 74 20 66  72 6F 6D 20 6D 61 73 74  |  output from mast 
 C350 | 65 72 20 64 65 76 69 63  65 0D 0A 20 20 20 20 20  |  er device..      
 C360 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 C370 | 30 33 31 20 20 3B 20 52  65 63 65 69 76 69 6E 67  |  031  ; Receiving 
 C380 | 20 64 65 76 69 63 65 20  6F 75 74 70 75 74 73 20  |   device outputs  
 C390 | 61 63 6B 6E 6F 77 6C 65  64 67 65 20 0D 0A 20 20  |  acknowledge ..   
 C3A0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C3B0 | 20 20 30 30 33 32 20 20  3B 20 20 20 20 20 20 20  |    0032  ;        
 C3C0 | 20 20 20 2B 2D 2D 2D 2D  2D 2B 2D 2D 2D 2D 2D 2B  |     +-----+-----+ 
 C3D0 | 2D 2D 2D 2D 2D 2B 2D 2D  2D 2D 2D 2B 2D 2D 2D 2D  |  -----+-----+---- 
 C3E0 | 2D 2B 2D 2D 2D 2D 2D 2B  2D 2D 2D 2D 2D 2B 2D 2D  |  -+-----+-----+-- 
 C3F0 | 2D 2D 2D 2B 20 20 20 20  20 2B 2D 2D 2D 2B 0D 0A  |  ---+     +---+.. 
 C400 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C410 | 20 20 20 20 30 30 33 33  20 20 3B 20 53 44 41 20  |      0033  ; SDA  
 C420 | 20 20 20 20 20 7C 20 41  20 37 20 7C 20 41 20 36  |       | A 7 | A 6 
 C430 | 20 7C 20 41 20 35 20 7C  20 41 20 34 20 7C 20 41  |   | A 5 | A 4 | A 
 C440 | 20 33 20 7C 20 41 20 32  20 7C 20 41 20 31 20 7C  |   3 | A 2 | A 1 | 
 C450 | 20 52 2F 57 20 7C 20 41  43 4B 20 7C 20 20 20 7C  |   R/W | ACK |   | 
 C460 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C470 | 20 20 20 20 20 20 30 30  33 34 20 20 3B 20 20 20  |        0034  ;    
 C480 | 20 20 20 20 2D 2D 2D 2B  2D 2D 2D 2D 2D 2B 2D 2D  |      ---+-----+-- 
 C490 | 2D 2D 2D 2B 2D 2D 2D 2D  2D 2B 2D 2D 2D 2D 2D 2B  |  ---+-----+-----+ 
 C4A0 | 2D 2D 2D 2D 2D 2B 2D 2D  2D 2D 2D 2B 2D 2D 2D 2D  |  -----+-----+---- 
 C4B0 | 2D 2B 2D 2D 2D 2D 2D 2B  2D 2D 2D 2D 2D 2B 20 20  |  -+-----+-----+   
 C4C0 | 20 2B 2D 2D 2D 0D 0A 20  20 20 20 20 20 20 20 20  |   +---..          
 C4D0 | 20 20 20 20 20 20 20 20  20 20 20 30 30 33 35 20  |             0035  
 C4E0 | 20 3B 20 20 20 20 20 20  20 20 20 20 20 20 2B 2D  |   ;            +- 
 C4F0 | 2B 20 20 20 2B 2D 2B 20  20 20 2B 2D 2B 20 20 20  |  +   +-+   +-+    
 C500 | 2B 2D 2B 20 20 20 2B 2D  2B 20 20 20 2B 2D 2B 20  |  +-+   +-+   +-+  
 C510 | 20 20 2B 2D 2B 20 20 20  2B 2D 2B 20 20 20 2B 2D  |    +-+   +-+   +- 
 C520 | 2B 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  +..              
 C530 | 20 20 20 20 20 20 20 30  30 33 36 20 20 3B 20 53  |         0036  ; S 
 C540 | 43 4C 20 20 20 20 20 20  20 20 7C 20 7C 20 20 20  |  CL        | |    
 C550 | 7C 20 7C 20 20 20 7C 20  7C 20 20 20 7C 20 7C 20  |  | |   | |   | |  
 C560 | 20 20 7C 20 7C 20 20 20  7C 20 7C 20 20 20 7C 20  |    | |   | |   |  
 C570 | 7C 20 20 20 7C 20 7C 20  20 20 7C 20 7C 0D 0A 20  |  |   | |   | |..  
 C580 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C590 | 20 20 20 30 30 33 37 20  20 3B 20 20 20 20 20 20  |     0037  ;       
 C5A0 | 20 2D 2D 2D 2D 2D 2B 20  2B 2D 2D 2D 2B 20 2B 2D  |   -----+ +---+ +- 
 C5B0 | 2D 2D 2B 20 2B 2D 2D 2D  2B 20 2B 2D 2D 2D 2B 20  |  --+ +---+ +---+  
 C5C0 | 2B 2D 2D 2D 2B 20 2B 2D  2D 2D 2B 20 2B 2D 2D 2D  |  +---+ +---+ +--- 
 C5D0 | 2B 20 2B 2D 2D 2D 2B 20  2B 2D 2D 2D 2D 2D 2D 2D  |  + +---+ +------- 
 C5E0 | 2D 2D 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  --..             
 C5F0 | 20 20 20 20 20 20 20 20  30 30 33 38 20 20 3B 0D  |          0038  ;. 
 C600 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 C610 | 20 20 20 20 20 30 30 33  39 20 20 3B 0D 0A 20 20  |       0039  ;..   
 C620 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C630 | 20 20 30 30 34 30 20 20  3B 20 44 61 74 61 20 66  |    0040  ; Data f 
 C640 | 72 61 6D 65 20 0D 0A 20  20 20 20 20 20 20 20 20  |  rame ..          
 C650 | 20 20 20 20 20 20 20 20  20 20 20 30 30 34 31 20  |             0041  
 C660 | 20 3B 20 43 6C 6F 63 6B  20 6F 75 74 70 75 74 20  |   ; Clock output  
 C670 | 62 79 20 6D 61 73 74 65  72 20 64 65 76 69 63 65  |  by master device 
 C680 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C690 | 20 20 20 20 20 20 30 30  34 32 20 20 3B 20 44 61  |        0042  ; Da 
 C6A0 | 74 61 20 6F 75 74 70 75  74 20 62 79 20 74 72 61  |  ta output by tra 
 C6B0 | 6E 73 6D 69 74 74 69 6E  67 20 64 65 76 69 63 65  |  nsmitting device 
 C6C0 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 C6D0 | 20 20 20 20 20 20 30 30  34 33 20 20 3B 20 52 65  |        0043  ; Re 
 C6E0 | 63 65 69 76 69 6E 67 20  64 65 76 69 63 65 20 6F  |  ceiving device o 
 C6F0 | 75 74 70 75 74 73 20 61  63 6B 6E 6F 77 6C 65 64  |  utputs acknowled 
 C700 | 67 65 20 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  ge ..            
 C710 | 20 20 20 20 20 20 20 20  20 30 30 34 34 20 20 3B  |           0044  ; 
 C720 | 20 20 20 20 20 20 20 20  20 20 2B 2D 2D 2D 2D 2D  |            +----- 
 C730 | 2B 2D 2D 2D 2D 2D 2B 2D  2D 2D 2D 2D 2B 2D 2D 2D  |  +-----+-----+--- 
 C740 | 2D 2D 2B 2D 2D 2D 2D 2D  2B 2D 2D 2D 2D 2D 2B 2D  |  --+-----+-----+- 
 C750 | 2D 2D 2D 2D 2B 2D 2D 2D  2D 2D 2B 20 20 20 20 20  |  ----+-----+      
 C760 | 2B 2D 2D 2D 2B 0D 0A 20  20 20 20 20 20 20 20 20  |  +---+..          
 C770 | 20 20 20 20 20 20 20 20  20 20 20 30 30 34 35 20  |             0045  
 C780 | 20 3B 20 53 44 41 20 20  20 20 20 20 7C 20 44 20  |   ; SDA      | D  
 C790 | 37 20 7C 20 44 20 36 20  7C 20 44 20 35 20 7C 20  |  7 | D 6 | D 5 |  
 C7A0 | 44 20 34 20 7C 20 44 20  33 20 7C 20 44 20 32 20  |  D 4 | D 3 | D 2  
 C7B0 | 7C 20 44 20 31 20 7C 20  44 20 30 20 7C 20 41 43  |  | D 1 | D 0 | AC 
 C7C0 | 4B 20 7C 20 20 20 7C 0D  0A 20 20 20 20 20 20 20  |  K |   |..        
 C7D0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 30 30 34  |               004 
 C7E0 | 36 20 20 3B 20 20 20 20  20 20 20 2D 2D 2D 2B 2D  |  6  ;       ---+- 
 C7F0 | 2D 2D 2D 2D 2B 2D 2D 2D  2D 2D 2B 2D 2D 2D 2D 2D  |  ----+-----+----- 
 C800 | 2B 2D 2D 2D 2D 2D 2B 2D  2D 2D 2D 2D 2B 2D 2D 2D  |  +-----+-----+--- 
 C810 | 2D 2D 2B 2D 2D 2D 2D 2D  2B 2D 2D 2D 2D 2D 2B 2D  |  --+-----+-----+- 
 C820 | 2D 2D 2D 2D 2B 20 20 20  2B 2D 2D 2D 0D 0A 20 20  |  ----+   +---..   
 C830 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 C840 | 20 20 30 30 34 37 20 20  3B 20 20 20 20 20 20 20  |    0047  ;        
 C850 | 20 20 20 20 20 2B 2D 2B  20 20 20 2B 2D 2B 20 20  |       +-+   +-+   
 C860 | 20 2B 2D 2B 20 20 20 2B  2D 2B 20 20 20 2B 2D 2B  |   +-+   +-+   +-+ 
 C870 | 20 20 20 2B 2D 2B 20 20  20 2B 2D 2B 20 20 20 2B  |     +-+   +-+   + 
 C880 | 2D 2B 20 20 20 2B 2D 2B  0D 0A 20 20 20 20 20 20  |  -+   +-+..       
 C890 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 30  |                00 
 C8A0 | 34 38 20 20 3B 20 53 43  4C 20 20 20 20 20 20 20  |  48  ; SCL        
 C8B0 | 20 7C 20 7C 20 20 20 7C  20 7C 20 20 20 7C 20 7C  |   | |   | |   | | 
 C8C0 | 20 20 20 7C 20 7C 20 20  20 7C 20 7C 20 20 20 7C  |     | |   | |   | 
 C8D0 | 20 7C 20 20 20 7C 20 7C  20 20 20 7C 20 7C 20 20  |   |   | |   | |   
 C8E0 | 20 7C 20 7C 0D 0A 20 20  20 20 20 20 20 20 20 20  |   | |..           
 C8F0 | 20 20 20 20 20 20 20 20  20 20 30 30 34 39 20 20  |            0049   
 C900 | 3B 20 20 20 20 20 20 20  2D 2D 2D 2D 2D 2B 20 2B  |  ;       -----+ + 
 C910 | 2D 2D 2D 2B 20 2B 2D 2D  2D 2B 20 2B 2D 2D 2D 2B  |  ---+ +---+ +---+ 
 C920 | 20 2B 2D 2D 2D 2B 20 2B  2D 2D 2D 2B 20 2B 2D 2D  |   +---+ +---+ +-- 
 C930 | 2D 2B 20 2B 2D 2D 2D 2B  20 2B 2D 2D 2D 2B 20 2B  |  -+ +---+ +---+ + 
 C940 | 2D 2D 2D 2D 2D 2D 2D 2D  2D 0D 0A 20 20 20 20 20  |  ---------..      
 C950 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 C960 | 30 35 30 20 20 3B 0D 0A  20 20 20 20 20 20 20 20  |  050  ;..         
 C970 | 20 20 20 20 20 20 20 20  20 20 20 20 30 30 35 31  |              0051 
 C980 | 20 20 3B 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |    ;..            
 C990 | 20 20 20 20 20 20 20 20  20 30 30 35 32 20 20 0D  |           0052  . 
 C9A0 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 C9B0 | 20 20 20 20 20 30 30 35  33 20 20 20 20 20 20 20  |       0053        
 C9C0 | 20 20 20 20 20 20 20 2E  50 52 4F 43 20 5A 38 30  |         .PROC Z80 
 C9D0 | 20 20 20 20 20 20 20 20  20 20 20 3B 53 43 57 6F  |             ;SCWo 
 C9E0 | 72 6B 73 68 6F 70 20 73  65 6C 65 63 74 20 70 72  |  rkshop select pr 
 C9F0 | 6F 63 65 73 73 6F 72 0D  0A 20 20 20 20 20 20 20  |  ocessor..        
 CA00 | 20 20 20 20 20 20 20 20  20 20 20 20 20 30 30 35  |               005 
 CA10 | 34 20 20 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  4  ..            
 CA20 | 20 20 20 20 20 20 20 20  20 30 30 35 35 20 20 20  |           0055    
 CA30 | 20 20 20 20 20 20 20 20  20 20 20 2E 4F 52 47 20  |             .ORG  
 CA40 | 30 78 38 30 30 30 0D 0A  20 20 20 20 20 20 20 20  |  0x8000..         
 CA50 | 20 20 20 20 20 20 20 20  20 20 20 20 30 30 35 36  |              0056 
 CA60 | 20 20 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |    ..             
 CA70 | 20 20 20 20 20 20 20 20  30 30 35 37 20 20 0D 0A  |          0057  .. 
 CA80 | 30 30 30 43 3A 20 20 20  20 20 20 20 20 20 20 20  |  000C:            
 CA90 | 20 20 20 20 30 30 35 38  20 20 49 32 43 5F 50 4F  |      0058  I2C_PO 
 CAA0 | 52 54 3A 20 20 20 2E 45  51 55 20 30 78 30 43 20  |  RT:   .EQU 0x0C  
 CAB0 | 20 20 20 20 20 20 20 20  20 20 3B 48 6F 73 74 20  |            ;Host  
 CAC0 | 49 32 43 20 70 6F 72 74  20 61 64 64 72 65 73 73  |  I2C port address 
 CAD0 | 0D 0A 38 30 30 30 3A 20  20 20 20 20 20 20 20 20  |  ..8000:          
 CAE0 | 20 20 20 20 20 20 30 30  35 39 20 20 49 32 43 5F  |        0059  I2C_ 
 CAF0 | 53 44 41 5F 57 52 3A 0D  0A 20 20 20 20 20 20 20  |  SDA_WR:..        
 CB00 | 20 20 20 20 20 20 20 20  20 20 20 20 20 30 30 35  |               005 
 CB10 | 39 20 20 49 32 43 5F 53  44 41 5F 57 52 3A 20 2E  |  9  I2C_SDA_WR: . 
 CB20 | 45 51 55 20 37 20 20 20  20 20 20 20 20 20 20 20  |  EQU 7            
 CB30 | 20 20 20 3B 48 6F 73 74  20 49 32 43 20 77 72 69  |     ;Host I2C wri 
 CB40 | 74 65 20 53 44 41 20 62  69 74 20 6E 75 6D 62 65  |  te SDA bit numbe 
 CB50 | 72 0D 0A 38 30 30 30 3A  20 20 20 20 20 20 20 20  |  r..8000:         
 CB60 | 20 20 20 20 20 20 20 30  30 36 30 20 20 49 32 43  |         0060  I2C 
 CB70 | 5F 53 43 4C 5F 57 52 3A  0D 0A 20 20 20 20 20 20  |  _SCL_WR:..       
 CB80 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 30  |                00 
 CB90 | 36 30 20 20 49 32 43 5F  53 43 4C 5F 57 52 3A 20  |  60  I2C_SCL_WR:  
 CBA0 | 2E 45 51 55 20 30 20 20  20 20 20 20 20 20 20 20  |  .EQU 0           
 CBB0 | 20 20 20 20 3B 48 6F 73  74 20 49 32 43 20 77 72  |      ;Host I2C wr 
 CBC0 | 69 74 65 20 53 43 4C 20  62 69 74 20 6E 75 6D 62  |  ite SCL bit numb 
 CBD0 | 65 72 0D 0A 38 30 30 30  3A 20 20 20 20 20 20 20  |  er..8000:        
 CBE0 | 20 20 20 20 20 20 20 20  30 30 36 31 20 20 49 32  |          0061  I2 
 CBF0 | 43 5F 53 44 41 5F 52 44  3A 0D 0A 20 20 20 20 20  |  C_SDA_RD:..      
 CC00 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 CC10 | 30 36 31 20 20 49 32 43  5F 53 44 41 5F 52 44 3A  |  061  I2C_SDA_RD: 
 CC20 | 20 2E 45 51 55 20 37 20  20 20 20 20 20 20 20 20  |   .EQU 7          
 CC30 | 20 20 20 20 20 3B 48 6F  73 74 20 49 32 43 20 72  |       ;Host I2C r 
 CC40 | 65 61 64 20 53 44 41 20  62 69 74 20 6E 75 6D 62  |  ead SDA bit numb 
 CC50 | 65 72 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  er..             
 CC60 | 20 20 20 20 20 20 20 20  30 30 36 32 20 20 0D 0A  |          0062  .. 
 CC70 | 30 30 37 30 3A 20 20 20  20 20 20 20 20 20 20 20  |  0070:            
 CC80 | 20 20 20 20 30 30 36 33  20 20 49 32 43 5F 41 44  |      0063  I2C_AD 
 CC90 | 44 52 3A 20 20 20 2E 45  51 55 20 30 78 37 30 20  |  DR:   .EQU 0x70  
 CCA0 | 20 20 20 20 20 20 20 20  20 20 3B 49 32 43 20 64  |            ;I2C d 
 CCB0 | 65 76 69 63 65 20 61 64  64 65 73 73 0D 0A 20 20  |  evice addess..   
 CCC0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 CCD0 | 20 20 30 30 36 34 20 20  0D 0A 20 20 20 20 20 20  |    0064  ..       
 CCE0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 30  |                00 
 CCF0 | 36 35 20 20 0D 0A 38 30  30 30 3A 20 33 45 20 43  |  65  ..8000: 3E C 
 CD00 | 30 20 20 20 20 20 20 20  20 20 30 30 36 36 20 20  |  0         0066   
 CD10 | 20 20 20 20 20 20 20 20  20 20 20 20 4C 44 20 20  |              LD   
 CD20 | 20 41 2C 30 62 31 31 30  30 30 30 30 30 20 20 20  |   A,0b11000000    
 CD30 | 3B 53 43 4C 20 61 6E 64  20 53 44 41 20 68 69 67  |  ;SCL and SDA hig 
 CD40 | 68 20 2B 20 4C 45 44 20  31 0D 0A 38 30 30 32 3A  |  h + LED 1..8002: 
 CD50 | 20 43 44 20 44 30 20 38  30 20 20 20 20 20 20 30  |   CD D0 80      0 
 CD60 | 30 36 37 20 20 20 20 20  20 20 20 20 20 20 20 20  |  067              
 CD70 | 20 43 41 4C 4C 20 49 32  43 5F 57 72 50 6F 72 74  |   CALL I2C_WrPort 
 CD80 | 20 20 20 20 20 3B 53 43  4C 20 68 69 67 68 20 61  |       ;SCL high a 
 CD90 | 6E 64 20 53 44 41 20 68  69 67 68 0D 0A 20 20 20  |  nd SDA high..    
 CDA0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 CDB0 | 20 30 30 36 38 20 20 0D  0A 38 30 30 35 3A 20 33  |   0068  ..8005: 3 
 CDC0 | 45 20 37 30 20 20 20 20  20 20 20 20 20 30 30 36  |  E 70         006 
 CDD0 | 39 20 20 20 20 20 20 20  20 20 20 20 20 20 20 4C  |  9              L 
 CDE0 | 44 20 20 20 41 2C 49 32  43 5F 41 44 44 52 20 20  |  D   A,I2C_ADDR   
 CDF0 | 20 20 20 3B 49 32 43 20  61 64 64 72 65 73 73 20  |     ;I2C address  
 CE00 | 74 6F 20 77 72 69 74 65  20 74 6F 0D 0A 38 30 30  |  to write to..800 
 CE10 | 37 3A 20 43 44 20 33 38  20 38 30 20 20 20 20 20  |  7: CD 38 80      
 CE20 | 20 30 30 37 30 20 20 20  20 20 20 20 20 20 20 20  |   0070            
 CE30 | 20 20 20 43 41 4C 4C 20  49 32 43 5F 4F 70 65 6E  |     CALL I2C_Open 
 CE40 | 20 20 20 20 20 20 20 3B  4F 70 65 6E 20 49 32 43  |         ;Open I2C 
 CE50 | 20 64 65 76 69 63 65 20  66 6F 72 20 77 72 69 74  |   device for writ 
 CE60 | 65 0D 0A 38 30 30 41 3A  20 43 30 20 20 20 20 20  |  e..800A: C0      
 CE70 | 20 20 20 20 20 20 20 30  30 37 31 20 20 20 20 20  |         0071      
 CE80 | 20 20 20 20 20 20 20 20  20 52 45 54 20 20 4E 5A  |           RET  NZ 
 CE90 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 CEA0 | 20 20 20 20 20 20 30 30  37 32 20 20 0D 0A 38 30  |        0072  ..80 
 CEB0 | 30 42 3A 20 33 45 20 41  41 20 20 20 20 20 20 20  |  0B: 3E AA        
 CEC0 | 20 20 30 30 37 33 20 20  20 20 20 20 20 20 20 20  |    0073           
 CED0 | 20 20 20 20 4C 44 20 20  20 41 2C 30 78 41 41 0D  |      LD   A,0xAA. 
 CEE0 | 0A 38 30 30 44 3A 20 43  44 20 34 31 20 38 30 20  |  .800D: CD 41 80  
 CEF0 | 20 20 20 20 20 30 30 37  34 20 20 20 20 20 20 20  |       0074        
 CF00 | 20 20 20 20 20 20 20 43  41 4C 4C 20 49 32 43 5F  |         CALL I2C_ 
 CF10 | 57 72 69 74 65 20 20 20  20 20 20 3B 57 72 69 74  |  Write      ;Writ 
 CF20 | 65 20 49 32 43 20 64 65  76 69 63 65 27 73 20 6F  |  e I2C device's o 
 CF30 | 75 74 70 75 74 20 62 69  74 73 0D 0A 38 30 31 30  |  utput bits..8010 
 CF40 | 3A 20 43 30 20 20 20 20  20 20 20 20 20 20 20 20  |  : C0             
 CF50 | 30 30 37 35 20 20 20 20  20 20 20 20 20 20 20 20  |  0075             
 CF60 | 20 20 52 45 54 20 20 4E  5A 0D 0A 20 20 20 20 20  |    RET  NZ..      
 CF70 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 CF80 | 30 37 36 20 20 0D 0A 38  30 31 31 3A 20 31 31 20  |  076  ..8011: 11  
 CF90 | 45 38 20 30 33 20 20 20  20 20 20 30 30 37 37 20  |  E8 03      0077  
 CFA0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 4C 44 20  |               LD  
 CFB0 | 20 20 44 45 2C 31 30 30  30 0D 0A 38 30 31 34 3A  |    DE,1000..8014: 
 CFC0 | 20 43 44 20 45 35 20 38  30 20 20 20 20 20 20 30  |   CD E5 80      0 
 CFD0 | 30 37 38 20 20 20 20 20  20 20 20 20 20 20 20 20  |  078              
 CFE0 | 20 43 41 4C 4C 20 41 50  49 5F 44 65 6C 61 79 20  |   CALL API_Delay  
 CFF0 | 20 20 20 20 20 3B 44 65  6C 61 79 20 31 30 30 30  |       ;Delay 1000 
 D000 | 6D 73 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  ms..             
 D010 | 20 20 20 20 20 20 20 20  30 30 37 39 20 20 0D 0A  |          0079  .. 
 D020 | 38 30 31 37 3A 20 33 45  20 35 35 20 20 20 20 20  |  8017: 3E 55      
 D030 | 20 20 20 20 30 30 38 30  20 20 20 20 20 20 20 20  |      0080         
 D040 | 20 20 20 20 20 20 4C 44  20 20 20 41 2C 30 78 35  |        LD   A,0x5 
 D050 | 35 0D 0A 38 30 31 39 3A  20 43 44 20 34 31 20 38  |  5..8019: CD 41 8 
 D060 | 30 20 20 20 20 20 20 30  30 38 31 20 20 20 20 20  |  0      0081      
 D070 | 20 20 20 20 20 20 20 20  20 43 41 4C 4C 20 49 32  |           CALL I2 
 D080 | 43 5F 57 72 69 74 65 20  20 20 20 20 20 3B 57 72  |  C_Write      ;Wr 
 D090 | 69 74 65 20 49 32 43 20  64 65 76 69 63 65 27 73  |  ite I2C device's 
 D0A0 | 20 6F 75 74 70 75 74 20  62 69 74 73 0D 0A 38 30  |   output bits..80 
 D0B0 | 31 43 3A 20 43 30 20 20  20 20 20 20 20 20 20 20  |  1C: C0           
 D0C0 | 20 20 30 30 38 32 20 20  20 20 20 20 20 20 20 20  |    0082           
 D0D0 | 20 20 20 20 52 45 54 20  20 4E 5A 0D 0A 20 20 20  |      RET  NZ..    
 D0E0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D0F0 | 20 30 30 38 33 20 20 0D  0A 38 30 31 44 3A 20 31  |   0083  ..801D: 1 
 D100 | 31 20 45 38 20 30 33 20  20 20 20 20 20 30 30 38  |  1 E8 03      008 
 D110 | 34 20 20 20 20 20 20 20  20 20 20 20 20 20 20 4C  |  4              L 
 D120 | 44 20 20 20 44 45 2C 31  30 30 30 0D 0A 38 30 32  |  D   DE,1000..802 
 D130 | 30 3A 20 43 44 20 45 35  20 38 30 20 20 20 20 20  |  0: CD E5 80      
 D140 | 20 30 30 38 35 20 20 20  20 20 20 20 20 20 20 20  |   0085            
 D150 | 20 20 20 43 41 4C 4C 20  41 50 49 5F 44 65 6C 61  |     CALL API_Dela 
 D160 | 79 20 20 20 20 20 20 3B  44 65 6C 61 79 20 31 30  |  y      ;Delay 10 
 D170 | 30 30 6D 73 0D 0A 20 20  20 20 20 20 20 20 20 20  |  00ms..           
 D180 | 20 20 20 20 20 20 20 20  20 20 30 30 38 36 20 20  |            0086   
 D190 | 0D 0A 38 30 32 33 3A 20  33 45 20 46 46 20 20 20  |  ..8023: 3E FF    
 D1A0 | 20 20 20 20 20 20 30 30  38 37 20 20 20 20 20 20  |        0087       
 D1B0 | 20 20 20 20 20 20 20 20  4C 44 20 20 20 41 2C 30  |          LD   A,0 
 D1C0 | 78 46 46 0D 0A 38 30 32  35 3A 20 43 44 20 34 31  |  xFF..8025: CD 41 
 D1D0 | 20 38 30 20 20 20 20 20  20 30 30 38 38 20 20 20  |   80      0088    
 D1E0 | 20 20 20 20 20 20 20 20  20 20 20 43 41 4C 4C 20  |             CALL  
 D1F0 | 49 32 43 5F 57 72 69 74  65 20 20 20 20 20 20 3B  |  I2C_Write      ; 
 D200 | 53 65 74 20 6F 75 74 70  75 74 20 62 69 74 73 0D  |  Set output bits. 
 D210 | 0A 38 30 32 38 3A 20 43  30 20 20 20 20 20 20 20  |  .8028: C0        
 D220 | 20 20 20 20 20 30 30 38  39 20 20 20 20 20 20 20  |       0089        
 D230 | 20 20 20 20 20 20 20 52  45 54 20 20 4E 5A 0D 0A  |         RET  NZ.. 
 D240 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D250 | 20 20 20 20 30 30 39 30  20 20 0D 0A 38 30 32 39  |      0090  ..8029 
 D260 | 3A 20 43 44 20 33 46 20  38 30 20 20 20 20 20 20  |  : CD 3F 80       
 D270 | 30 30 39 31 20 20 20 20  20 20 20 20 20 20 20 20  |  0091             
 D280 | 20 20 43 41 4C 4C 20 49  32 43 5F 43 6C 6F 73 65  |    CALL I2C_Close 
 D290 | 20 20 20 20 20 20 3B 43  6C 6F 73 65 20 49 32 43  |        ;Close I2C 
 D2A0 | 20 64 65 76 69 63 65 20  0D 0A 20 20 20 20 20 20  |   device ..       
 D2B0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 30  |                00 
 D2C0 | 39 32 20 20 0D 0A 20 20  20 20 20 20 20 20 20 20  |  92  ..           
 D2D0 | 20 20 20 20 20 20 20 20  20 20 30 30 39 33 20 20  |            0093   
 D2E0 | 0D 0A 38 30 32 43 3A 20  33 45 20 37 31 20 20 20  |  ..802C: 3E 71    
 D2F0 | 20 20 20 20 20 20 30 30  39 34 20 20 20 20 20 20  |        0094       
 D300 | 20 20 20 20 20 20 20 20  4C 44 20 20 20 41 2C 49  |          LD   A,I 
 D310 | 32 43 5F 41 44 44 52 2B  31 20 20 20 3B 49 32 43  |  2C_ADDR+1   ;I2C 
 D320 | 20 61 64 64 72 65 73 73  20 74 6F 20 77 72 69 74  |   address to writ 
 D330 | 65 20 74 6F 0D 0A 38 30  32 45 3A 20 43 44 20 33  |  e to..802E: CD 3 
 D340 | 38 20 38 30 20 20 20 20  20 20 30 30 39 35 20 20  |  8 80      0095   
 D350 | 20 20 20 20 20 20 20 20  20 20 20 20 43 41 4C 4C  |              CALL 
 D360 | 20 49 32 43 5F 4F 70 65  6E 20 20 20 20 20 20 20  |   I2C_Open        
 D370 | 3B 4F 70 65 6E 20 49 32  43 20 64 65 76 69 63 65  |  ;Open I2C device 
 D380 | 20 66 6F 72 20 72 65 61  64 0D 0A 20 20 20 20 20  |   for read..      
 D390 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 D3A0 | 30 39 36 20 20 0D 0A 38  30 33 31 3A 20 43 44 20  |  096  ..8031: CD  
 D3B0 | 37 38 20 38 30 20 20 20  20 20 20 30 30 39 37 20  |  78 80      0097  
 D3C0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 43 41 4C  |               CAL 
 D3D0 | 4C 20 49 32 43 5F 52 65  61 64 20 20 20 20 20 20  |  L I2C_Read       
 D3E0 | 20 3B 52 65 61 64 20 66  72 6F 6D 20 49 32 43 20  |   ;Read from I2C  
 D3F0 | 64 65 76 69 63 65 0D 0A  20 20 20 20 20 20 20 20  |  device..         
 D400 | 20 20 20 20 20 20 20 20  20 20 20 20 30 30 39 38  |              0098 
 D410 | 20 20 0D 0A 38 30 33 34  3A 20 43 44 20 33 46 20  |    ..8034: CD 3F  
 D420 | 38 30 20 20 20 20 20 20  30 30 39 39 20 20 20 20  |  80      0099     
 D430 | 20 20 20 20 20 20 20 20  20 20 43 41 4C 4C 20 49  |            CALL I 
 D440 | 32 43 5F 43 6C 6F 73 65  20 20 20 20 20 20 3B 43  |  2C_Close      ;C 
 D450 | 6C 6F 73 65 20 49 32 43  20 64 65 76 69 63 65 0D  |  lose I2C device. 
 D460 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 D470 | 20 20 20 20 20 30 31 30  30 20 20 0D 0A 20 20 20  |       0100  ..    
 D480 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D490 | 20 30 31 30 31 20 20 0D  0A 38 30 33 37 3A 20 43  |   0101  ..8037: C 
 D4A0 | 39 20 20 20 20 20 20 20  20 20 20 20 20 30 31 30  |  9            010 
 D4B0 | 32 20 20 20 20 20 20 20  20 20 20 20 20 20 20 52  |  2              R 
 D4C0 | 45 54 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  ET..             
 D4D0 | 20 20 20 20 20 20 20 20  30 31 30 33 20 20 0D 0A  |          0103  .. 
 D4E0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D4F0 | 20 20 20 20 30 31 30 34  20 20 0D 0A 20 20 20 20  |      0104  ..     
 D500 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D510 | 30 31 30 35 20 20 0D 0A  20 20 20 20 20 20 20 20  |  0105  ..         
 D520 | 20 20 20 20 20 20 20 20  20 20 20 20 30 31 30 36  |              0106 
 D530 | 20 20 3B 20 49 32 43 20  62 75 73 20 6F 70 65 6E  |    ; I2C bus open 
 D540 | 20 64 65 76 69 63 65 0D  0A 20 20 20 20 20 20 20  |   device..        
 D550 | 20 20 20 20 20 20 20 20  20 20 20 20 20 30 31 30  |               010 
 D560 | 37 20 20 3B 20 20 20 4F  6E 20 65 6E 74 72 79 3A  |  7  ;   On entry: 
 D570 | 20 41 20 3D 20 44 65 76  69 63 65 20 61 64 64 72  |   A = Device addr 
 D580 | 65 73 73 20 28 62 69 74  20 7A 65 72 6F 20 69 73  |  ess (bit zero is 
 D590 | 20 72 65 61 64 20 66 6C  61 67 29 0D 0A 20 20 20  |   read flag)..    
 D5A0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D5B0 | 20 30 31 30 38 20 20 3B  20 20 20 20 20 20 20 20  |   0108  ;         
 D5C0 | 20 20 20 20 20 53 43 4C  20 3D 20 75 6E 6B 6E 6F  |       SCL = unkno 
 D5D0 | 77 6E 2C 20 53 44 41 20  3D 20 75 6E 6B 6E 6F 77  |  wn, SDA = unknow 
 D5E0 | 6E 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  n..              
 D5F0 | 20 20 20 20 20 20 20 30  31 30 39 20 20 3B 20 20  |         0109  ;   
 D600 | 20 4F 6E 20 65 78 69 74  3A 20 20 49 66 20 73 75  |   On exit:  If su 
 D610 | 63 63 65 73 73 66 75 6C  6C 79 20 41 20 3D 20 30  |  ccessfully A = 0 
 D620 | 20 61 6E 64 20 5A 20 66  6C 61 67 67 65 64 0D 0A  |   and Z flagged.. 
 D630 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D640 | 20 20 20 20 30 31 31 30  20 20 3B 20 20 20 20 20  |      0110  ;      
 D650 | 20 20 20 20 20 20 20 20  49 66 20 73 75 63 63 65  |          If succe 
 D660 | 73 73 66 75 6C 6C 79 20  41 20 3D 20 45 72 72 6F  |  ssfully A = Erro 
 D670 | 72 20 61 6E 64 20 4E 5A  20 66 6C 61 67 67 65 64  |  r and NZ flagged 
 D680 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 D690 | 20 20 20 20 20 20 30 31  31 31 20 20 3B 20 20 20  |        0111  ;    
 D6A0 | 20 20 20 20 20 20 20 20  20 20 53 43 4C 20 3D 20  |            SCL =  
 D6B0 | 6C 6F 2C 20 53 44 41 20  3D 20 6C 6F 0D 0A 20 20  |  lo, SDA = lo..   
 D6C0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D6D0 | 20 20 30 31 31 32 20 20  3B 20 20 20 20 20 20 20  |    0112  ;        
 D6E0 | 20 20 20 20 20 20 48 4C  20 49 58 20 49 59 20 70  |        HL IX IY p 
 D6F0 | 72 65 73 65 72 76 65 64  0D 0A 20 20 20 20 20 20  |  reserved..       
 D700 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |                01 
 D710 | 31 33 20 20 3B 20 50 6F  73 73 69 62 6C 65 20 65  |  13  ; Possible e 
 D720 | 72 72 6F 72 73 3A 20 20  31 20 3D 20 42 75 73 20  |  rrors:  1 = Bus  
 D730 | 6A 61 6D 6D 65 64 20 28  6E 6F 74 20 69 6D 70 6C  |  jammed (not impl 
 D740 | 65 6D 65 6E 74 65 64 29  0D 0A 38 30 33 38 3A 20  |  emented)..8038:  
 D750 | 46 35 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |  F5            01 
 D760 | 31 34 20 20 49 32 43 5F  4F 70 65 6E 3A 20 20 20  |  14  I2C_Open:    
 D770 | 50 55 53 48 20 41 46 0D  0A 38 30 33 39 3A 20 43  |  PUSH AF..8039: C 
 D780 | 44 20 39 43 20 38 30 20  20 20 20 20 20 30 31 31  |  D 9C 80      011 
 D790 | 35 20 20 20 20 20 20 20  20 20 20 20 20 20 20 43  |  5              C 
 D7A0 | 41 4C 4C 20 49 32 43 5F  53 74 61 72 74 20 20 20  |  ALL I2C_Start    
 D7B0 | 20 20 20 3B 4F 75 74 70  75 74 20 73 74 61 72 74  |     ;Output start 
 D7C0 | 20 63 6F 6E 64 69 74 69  6F 6E 0D 0A 38 30 33 43  |   condition..803C 
 D7D0 | 3A 20 46 31 20 20 20 20  20 20 20 20 20 20 20 20  |  : F1             
 D7E0 | 30 31 31 36 20 20 20 20  20 20 20 20 20 20 20 20  |  0116             
 D7F0 | 20 20 50 4F 50 20 20 41  46 0D 0A 38 30 33 44 3A  |    POP  AF..803D: 
 D800 | 20 31 38 20 30 32 20 20  20 20 20 20 20 20 20 30  |   18 02         0 
 D810 | 31 31 37 20 20 20 20 20  20 20 20 20 20 20 20 20  |  117              
 D820 | 20 4A 52 20 20 20 49 32  43 5F 57 72 69 74 65 20  |   JR   I2C_Write  
 D830 | 20 20 20 20 20 3B 57 72  69 74 65 20 64 61 74 61  |       ;Write data 
 D840 | 20 62 79 74 65 0D 0A 20  20 20 20 20 20 20 20 20  |   byte..          
 D850 | 20 20 20 20 20 20 20 20  20 20 20 30 31 31 38 20  |             0118  
 D860 | 20 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |   ..              
 D870 | 20 20 20 20 20 20 20 30  31 31 39 20 20 0D 0A 20  |         0119  ..  
 D880 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D890 | 20 20 20 30 31 32 30 20  20 3B 20 49 32 43 20 62  |     0120  ; I2C b 
 D8A0 | 75 73 20 63 6C 6F 73 65  20 64 65 76 69 63 65 0D  |  us close device. 
 D8B0 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 D8C0 | 20 20 20 20 20 30 31 32  31 20 20 3B 20 20 20 4F  |       0121  ;   O 
 D8D0 | 6E 20 65 6E 74 72 79 3A  20 53 43 4C 20 3D 20 75  |  n entry: SCL = u 
 D8E0 | 6E 6B 6E 6F 77 6E 2C 20  53 44 41 20 3D 20 75 6E  |  nknown, SDA = un 
 D8F0 | 6B 6E 6F 77 6E 0D 0A 20  20 20 20 20 20 20 20 20  |  known..          
 D900 | 20 20 20 20 20 20 20 20  20 20 20 30 31 32 32 20  |             0122  
 D910 | 20 3B 20 20 20 4F 6E 20  65 78 69 74 3A 20 20 49  |   ;   On exit:  I 
 D920 | 66 20 73 75 63 63 65 73  73 66 75 6C 6C 79 20 41  |  f successfully A 
 D930 | 3D 30 20 61 6E 64 20 5A  20 66 6C 61 67 67 65 64  |  =0 and Z flagged 
 D940 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 D950 | 20 20 20 20 20 20 30 31  32 33 20 20 3B 20 20 20  |        0123  ;    
 D960 | 20 20 20 20 20 20 20 20  20 20 49 66 20 73 75 63  |            If suc 
 D970 | 63 65 73 73 66 75 6C 6C  79 20 41 3D 45 72 72 6F  |  cessfully A=Erro 
 D980 | 72 20 61 6E 64 20 4E 5A  20 66 6C 61 67 67 65 64  |  r and NZ flagged 
 D990 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 D9A0 | 20 20 20 20 20 20 30 31  32 34 20 20 3B 20 20 20  |        0124  ;    
 D9B0 | 20 20 20 20 20 20 20 20  20 20 53 43 4C 20 3D 20  |            SCL =  
 D9C0 | 68 69 2C 20 53 44 41 20  3D 20 68 69 0D 0A 20 20  |  hi, SDA = hi..   
 D9D0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 D9E0 | 20 20 30 31 32 35 20 20  3B 20 20 20 20 20 20 20  |    0125  ;        
 D9F0 | 20 20 20 20 20 20 48 4C  20 49 58 20 49 59 20 70  |        HL IX IY p 
 DA00 | 72 65 73 65 72 76 65 64  0D 0A 20 20 20 20 20 20  |  reserved..       
 DA10 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |                01 
 DA20 | 32 36 20 20 3B 20 50 6F  73 73 69 62 6C 65 20 65  |  26  ; Possible e 
 DA30 | 72 72 6F 72 73 3A 20 20  31 20 3D 20 42 75 73 20  |  rrors:  1 = Bus  
 DA40 | 6A 61 6D 6D 65 64 20 3F  3F 3F 3F 3F 3F 3F 3F 3F  |  jammed ????????? 
 DA50 | 3F 0D 0A 38 30 33 46 3A  20 31 38 20 36 38 20 20  |  ?..803F: 18 68   
 DA60 | 20 20 20 20 20 20 20 30  31 32 37 20 20 49 32 43  |         0127  I2C 
 DA70 | 5F 43 6C 6F 73 65 3A 20  20 4A 52 20 20 20 49 32  |  _Close:  JR   I2 
 DA80 | 43 5F 53 74 6F 70 20 20  20 20 20 20 20 3B 4F 75  |  C_Stop       ;Ou 
 DA90 | 74 70 75 74 20 73 74 6F  70 20 63 6F 6E 64 69 74  |  tput stop condit 
 DAA0 | 69 6F 6E 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  ion..            
 DAB0 | 20 20 20 20 20 20 20 20  20 30 31 32 38 20 20 0D  |           0128  . 
 DAC0 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 DAD0 | 20 20 20 20 20 30 31 32  39 20 20 0D 0A 20 20 20  |       0129  ..    
 DAE0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 DAF0 | 20 30 31 33 30 20 20 3B  20 49 32 43 20 62 75 73  |   0130  ; I2C bus 
 DB00 | 20 74 72 61 6E 73 6D 69  74 20 66 72 61 6D 65 20  |   transmit frame  
 DB10 | 28 61 64 64 72 65 73 73  20 6F 72 20 64 61 74 61  |  (address or data 
 DB20 | 29 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  )..              
 DB30 | 20 20 20 20 20 20 20 30  31 33 31 20 20 3B 20 20  |         0131  ;   
 DB40 | 20 4F 6E 20 65 6E 74 72  79 3A 20 41 20 3D 20 44  |   On entry: A = D 
 DB50 | 61 74 61 20 62 79 74 65  2C 20 6F 72 0D 0A 20 20  |  ata byte, or..   
 DB60 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 DB70 | 20 20 30 31 33 32 20 20  3B 20 20 20 20 20 20 20  |    0132  ;        
 DB80 | 20 20 20 20 20 20 20 20  20 20 41 64 64 72 65 73  |            Addres 
 DB90 | 73 20 62 79 74 65 20 28  62 69 74 20 7A 65 72 6F  |  s byte (bit zero 
 DBA0 | 20 69 73 20 72 65 61 64  20 66 6C 61 67 29 0D 0A  |   is read flag).. 
 DBB0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 DBC0 | 20 20 20 20 30 31 33 33  20 20 3B 20 20 20 20 20  |      0133  ;      
 DBD0 | 20 20 20 20 20 20 20 20  53 43 4C 20 3D 20 6C 6F  |          SCL = lo 
 DBE0 | 77 2C 20 53 44 41 20 3D  20 6C 6F 77 0D 0A 20 20  |  w, SDA = low..   
 DBF0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 DC00 | 20 20 30 31 33 34 20 20  3B 20 20 20 4F 6E 20 65  |    0134  ;   On e 
 DC10 | 78 69 74 3A 20 20 49 66  20 73 75 63 63 65 73 73  |  xit:  If success 
 DC20 | 66 75 6C 20 41 3D 30 20  61 6E 64 20 5A 20 66 6C  |  ful A=0 and Z fl 
 DC30 | 61 67 67 65 64 0D 0A 20  20 20 20 20 20 20 20 20  |  agged..          
 DC40 | 20 20 20 20 20 20 20 20  20 20 20 30 31 33 35 20  |             0135  
 DC50 | 20 3B 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |   ;               
 DC60 | 20 20 53 43 4C 20 3D 20  6C 6F 2C 20 53 44 41 20  |    SCL = lo, SDA  
 DC70 | 3D 20 6C 6F 0D 0A 20 20  20 20 20 20 20 20 20 20  |  = lo..           
 DC80 | 20 20 20 20 20 20 20 20  20 20 30 31 33 36 20 20  |            0136   
 DC90 | 3B 20 20 20 20 20 20 20  20 20 20 20 20 20 49 66  |  ;             If 
 DCA0 | 20 75 6E 73 75 63 63 65  73 73 66 75 6C 20 41 3D  |   unsuccessful A= 
 DCB0 | 45 72 72 6F 72 20 61 6E  64 20 4E 5A 20 66 6C 61  |  Error and NZ fla 
 DCC0 | 67 67 65 64 0D 0A 20 20  20 20 20 20 20 20 20 20  |  gged..           
 DCD0 | 20 20 20 20 20 20 20 20  20 20 30 31 33 37 20 20  |            0137   
 DCE0 | 3B 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ;                
 DCF0 | 20 53 43 4C 20 3D 20 68  69 67 68 2C 20 53 44 41  |   SCL = high, SDA 
 DD00 | 20 3D 20 68 69 67 68 2C  20 49 32 43 20 63 6C 6F  |   = high, I2C clo 
 DD10 | 73 65 64 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  sed..            
 DD20 | 20 20 20 20 20 20 20 20  20 30 31 33 38 20 20 3B  |           0138  ; 
 DD30 | 20 20 20 20 20 20 20 20  20 20 20 20 20 48 4C 20  |               HL  
 DD40 | 49 58 20 49 59 20 70 72  65 73 65 72 76 65 64 0D  |  IX IY preserved. 
 DD50 | 0A 38 30 34 31 3A 20 35  37 20 20 20 20 20 20 20  |  .8041: 57        
 DD60 | 20 20 20 20 20 30 31 33  39 20 20 49 32 43 5F 57  |       0139  I2C_W 
 DD70 | 72 69 74 65 3A 20 20 4C  44 20 20 20 44 2C 41 20  |  rite:  LD   D,A  
 DD80 | 20 20 20 20 20 20 20 20  20 20 20 3B 53 74 6F 72  |             ;Stor 
 DD90 | 65 20 62 79 74 65 20 74  6F 20 62 65 20 77 72 69  |  e byte to be wri 
 DDA0 | 74 74 65 6E 0D 0A 38 30  34 32 3A 20 30 36 20 30  |  tten..8042: 06 0 
 DDB0 | 38 20 20 20 20 20 20 20  20 20 30 31 34 30 20 20  |  8         0140   
 DDC0 | 20 20 20 20 20 20 20 20  20 20 20 20 4C 44 20 20  |              LD   
 DDD0 | 20 42 2C 38 20 20 20 20  20 20 20 20 20 20 20 20  |   B,8             
 DDE0 | 3B 38 20 64 61 74 61 20  62 69 74 73 2C 20 62 69  |  ;8 data bits, bi 
 DDF0 | 74 20 37 20 66 69 72 73  74 0D 0A 38 30 34 34 3A  |  t 7 first..8044: 
 DE00 | 20 43 42 20 31 32 20 20  20 20 20 20 20 20 20 30  |   CB 12         0 
 DE10 | 31 34 31 20 20 40 57 72  5F 4C 6F 6F 70 3A 20 20  |  141  @Wr_Loop:   
 DE20 | 20 52 4C 20 20 20 44 20  20 20 20 20 20 20 20 20  |   RL   D          
 DE30 | 20 20 20 20 20 3B 54 65  73 74 20 4D 2E 53 2E 42  |       ;Test M.S.B 
 DE40 | 69 74 0D 0A 38 30 34 36  3A 20 33 38 20 30 35 20  |  it..8046: 38 05  
 DE50 | 20 20 20 20 20 20 20 20  30 31 34 32 20 20 20 20  |          0142     
 DE60 | 20 20 20 20 20 20 20 20  20 20 4A 52 20 20 20 43  |            JR   C 
 DE70 | 2C 40 42 69 74 5F 48 69  20 20 20 20 20 20 3B 48  |  ,@Bit_Hi      ;H 
 DE80 | 69 67 68 2C 20 73 6F 20  73 6B 69 70 0D 0A 38 30  |  igh, so skip..80 
 DE90 | 34 38 3A 20 43 44 20 43  42 20 38 30 20 20 20 20  |  48: CD CB 80     
 DEA0 | 20 20 30 31 34 33 20 20  20 20 20 20 20 20 20 20  |    0143           
 DEB0 | 20 20 20 20 43 41 4C 4C  20 49 32 43 5F 53 44 41  |      CALL I2C_SDA 
 DEC0 | 5F 4C 4F 20 20 20 20 20  3B 53 44 41 20 6C 6F 77  |  _LO     ;SDA low 
 DED0 | 20 20 20 28 53 43 4C 20  6C 6F 2C 20 53 44 41 20  |     (SCL lo, SDA  
 DEE0 | 3D 20 64 61 74 61 20 62  69 74 29 0D 0A 38 30 34  |  = data bit)..804 
 DEF0 | 42 3A 20 31 38 20 30 33  20 20 20 20 20 20 20 20  |  B: 18 03         
 DF00 | 20 30 31 34 34 20 20 20  20 20 20 20 20 20 20 20  |   0144            
 DF10 | 20 20 20 4A 52 20 20 20  40 42 69 74 5F 43 6C 6B  |     JR   @Bit_Clk 
 DF20 | 0D 0A 38 30 34 44 3A 20  43 44 20 43 34 20 38 30  |  ..804D: CD C4 80 
 DF30 | 20 20 20 20 20 20 30 31  34 35 20 20 40 42 69 74  |        0145  @Bit 
 DF40 | 5F 48 69 3A 20 20 20 20  43 41 4C 4C 20 49 32 43  |  _Hi:    CALL I2C 
 DF50 | 5F 53 44 41 5F 48 49 20  20 20 20 20 3B 53 44 41  |  _SDA_HI     ;SDA 
 DF60 | 20 68 69 67 68 20 20 28  53 43 4C 20 6C 6F 2C 20  |   high  (SCL lo,  
 DF70 | 53 44 41 20 3D 20 64 61  74 61 20 62 69 74 29 0D  |  SDA = data bit). 
 DF80 | 0A 38 30 35 30 3A 20 43  44 20 42 36 20 38 30 20  |  .8050: CD B6 80  
 DF90 | 20 20 20 20 20 30 31 34  36 20 20 40 42 69 74 5F  |       0146  @Bit_ 
 DFA0 | 43 6C 6B 3A 20 20 20 43  41 4C 4C 20 49 32 43 5F  |  Clk:   CALL I2C_ 
 DFB0 | 53 43 4C 5F 48 49 20 20  20 20 20 3B 53 43 4C 20  |  SCL_HI     ;SCL  
 DFC0 | 68 69 67 68 20 20 28 53  43 4C 20 68 69 2C 20 53  |  high  (SCL hi, S 
 DFD0 | 44 41 20 3D 20 64 61 74  61 20 62 69 74 29 0D 0A  |  DA = data bit).. 
 DFE0 | 38 30 35 33 3A 20 43 44  20 42 44 20 38 30 20 20  |  8053: CD BD 80   
 DFF0 | 20 20 20 20 30 31 34 37  20 20 20 20 20 20 20 20  |      0147         
 E000 | 20 20 20 20 20 20 43 41  4C 4C 20 49 32 43 5F 53  |        CALL I2C_S 
 E010 | 43 4C 5F 4C 4F 20 20 20  20 20 3B 53 43 4C 20 6C  |  CL_LO     ;SCL l 
 E020 | 6F 77 20 20 20 28 53 43  4C 20 6C 6F 2C 20 53 44  |  ow   (SCL lo, SD 
 E030 | 41 20 3D 20 64 61 74 61  20 62 69 74 29 0D 0A 38  |  A = data bit)..8 
 E040 | 30 35 36 3A 20 31 30 20  45 43 20 20 20 20 20 20  |  056: 10 EC       
 E050 | 20 20 20 30 31 34 38 20  20 20 20 20 20 20 20 20  |     0148          
 E060 | 20 20 20 20 20 44 4A 4E  5A 20 40 57 72 5F 4C 6F  |       DJNZ @Wr_Lo 
 E070 | 6F 70 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  op..             
 E080 | 20 20 20 20 20 20 20 20  30 31 34 39 20 20 3B 20  |          0149  ;  
 E090 | 54 65 73 74 20 66 6F 72  20 61 63 6B 6E 6F 77 6C  |  Test for acknowl 
 E0A0 | 65 64 67 65 20 66 72 6F  6D 20 73 6C 61 76 65 20  |  edge from slave  
 E0B0 | 28 72 65 63 65 69 76 65  72 29 0D 0A 20 20 20 20  |  (receiver)..     
 E0C0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 E0D0 | 30 31 35 30 20 20 3B 20  4F 6E 20 61 72 72 69 76  |  0150  ; On arriv 
 E0E0 | 69 6E 67 20 68 65 72 65  2C 20 53 43 4C 20 3D 20  |  ing here, SCL =  
 E0F0 | 6C 6F 2C 20 53 44 41 20  3D 20 64 61 74 61 20 62  |  lo, SDA = data b 
 E100 | 69 74 0D 0A 38 30 35 38  3A 20 43 44 20 43 34 20  |  it..8058: CD C4  
 E110 | 38 30 20 20 20 20 20 20  30 31 35 31 20 20 20 20  |  80      0151     
 E120 | 20 20 20 20 20 20 20 20  20 20 43 41 4C 4C 20 49  |            CALL I 
 E130 | 32 43 5F 53 44 41 5F 48  49 20 20 20 20 20 3B 53  |  2C_SDA_HI     ;S 
 E140 | 44 41 20 68 69 67 68 20  20 28 53 43 4C 20 6C 6F  |  DA high  (SCL lo 
 E150 | 2C 20 53 44 41 20 68 69  2F 61 63 6B 29 0D 0A 38  |  , SDA hi/ack)..8 
 E160 | 30 35 42 3A 20 43 44 20  42 36 20 38 30 20 20 20  |  05B: CD B6 80    
 E170 | 20 20 20 30 31 35 32 20  20 20 20 20 20 20 20 20  |     0152          
 E180 | 20 20 20 20 20 43 41 4C  4C 20 49 32 43 5F 53 43  |       CALL I2C_SC 
 E190 | 4C 5F 48 49 20 20 20 20  20 3B 53 43 4C 20 68 69  |  L_HI     ;SCL hi 
 E1A0 | 67 68 20 20 28 53 43 4C  20 68 69 2C 20 53 44 41  |  gh  (SCL hi, SDA 
 E1B0 | 20 68 69 2F 61 63 6B 29  0D 0A 38 30 35 45 3A 20  |   hi/ack)..805E:  
 E1C0 | 43 44 20 44 43 20 38 30  20 20 20 20 20 20 30 31  |  CD DC 80      01 
 E1D0 | 35 33 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  53               
 E1E0 | 43 41 4C 4C 20 49 32 43  5F 52 64 50 6F 72 74 20  |  CALL I2C_RdPort  
 E1F0 | 20 20 20 20 3B 52 65 61  64 20 53 44 41 20 69 6E  |      ;Read SDA in 
 E200 | 70 75 74 0D 0A 38 30 36  31 3A 20 34 37 20 20 20  |  put..8061: 47    
 E210 | 20 20 20 20 20 20 20 20  20 30 31 35 34 20 20 20  |           0154    
 E220 | 20 20 20 20 20 20 20 20  20 20 20 4C 44 20 20 20  |             LD    
 E230 | 42 2C 41 0D 0A 38 30 36  32 3A 20 43 44 20 42 44  |  B,A..8062: CD BD 
 E240 | 20 38 30 20 20 20 20 20  20 30 31 35 35 20 20 20  |   80      0155    
 E250 | 20 20 20 20 20 20 20 20  20 20 20 43 41 4C 4C 20  |             CALL  
 E260 | 49 32 43 5F 53 43 4C 5F  4C 4F 20 20 20 20 20 3B  |  I2C_SCL_LO     ; 
 E270 | 53 43 4C 20 6C 6F 77 20  20 20 28 53 43 4C 20 6C  |  SCL low   (SCL l 
 E280 | 6F 2C 20 53 44 41 20 3D  20 68 69 29 0D 0A 38 30  |  o, SDA = hi)..80 
 E290 | 36 35 3A 20 43 42 20 37  38 20 20 20 20 20 20 20  |  65: CB 78        
 E2A0 | 20 20 30 31 35 36 20 20  20 20 20 20 20 20 20 20  |    0156           
 E2B0 | 20 20 20 20 42 49 54 20  20 49 32 43 5F 53 44 41  |      BIT  I2C_SDA 
 E2C0 | 5F 52 44 2C 42 0D 0A 38  30 36 37 3A 20 32 30 20  |  _RD,B..8067: 20  
 E2D0 | 30 32 20 20 20 20 20 20  20 20 20 30 31 35 37 20  |  02         0157  
 E2E0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 4A 52 20  |               JR  
 E2F0 | 20 20 4E 5A 2C 40 4E 6F  41 63 6B 20 20 20 20 20  |    NZ,@NoAck      
 E300 | 20 3B 53 6B 69 70 20 69  66 20 6E 6F 20 61 63 6B  |   ;Skip if no ack 
 E310 | 6E 6F 77 6C 65 64 67 65  0D 0A 38 30 36 39 3A 20  |  nowledge..8069:  
 E320 | 41 46 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |  AF            01 
 E330 | 35 38 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  58               
 E340 | 58 4F 52 20 20 41 20 20  20 20 20 20 20 20 20 20  |  XOR  A           
 E350 | 20 20 20 20 3B 52 65 74  75 72 6E 20 73 75 63 63  |      ;Return succ 
 E360 | 65 73 73 20 41 3D 30 20  61 6E 64 20 5A 20 66 6C  |  ess A=0 and Z fl 
 E370 | 61 67 67 65 64 0D 0A 38  30 36 41 3A 20 43 39 20  |  agged..806A: C9  
 E380 | 20 20 20 20 20 20 20 20  20 20 20 30 31 35 39 20  |             0159  
 E390 | 20 20 20 20 20 20 20 20  20 20 20 20 20 52 45 54  |               RET 
 E3A0 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 E3B0 | 20 20 20 20 20 20 30 31  36 30 20 20 3B 20 49 32  |        0160  ; I2 
 E3C0 | 43 20 53 54 4F 50 20 72  65 71 75 69 72 65 64 20  |  C STOP required  
 E3D0 | 61 73 20 6E 6F 20 61 63  6B 6E 6F 77 6C 65 64 67  |  as no acknowledg 
 E3E0 | 65 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  e..              
 E3F0 | 20 20 20 20 20 20 20 30  31 36 31 20 20 3B 20 4F  |         0161  ; O 
 E400 | 6E 20 61 72 72 69 76 69  6E 67 20 68 65 72 65 2C  |  n arriving here, 
 E410 | 20 53 43 4C 20 3D 20 6C  6F 2C 20 53 44 41 20 3D  |   SCL = lo, SDA = 
 E420 | 20 68 69 0D 0A 38 30 36  42 3A 20 43 44 20 43 42  |   hi..806B: CD CB 
 E430 | 20 38 30 20 20 20 20 20  20 30 31 36 32 20 20 40  |   80      0162  @ 
 E440 | 4E 6F 41 63 6B 3A 20 20  20 20 20 43 41 4C 4C 20  |  NoAck:     CALL  
 E450 | 49 32 43 5F 53 44 41 5F  4C 4F 20 20 20 20 20 3B  |  I2C_SDA_LO     ; 
 E460 | 53 44 41 20 6C 6F 77 20  20 20 28 53 43 4C 20 6C  |  SDA low   (SCL l 
 E470 | 6F 2C 20 53 44 41 20 3D  20 6C 6F 29 0D 0A 38 30  |  o, SDA = lo)..80 
 E480 | 36 45 3A 20 43 44 20 42  36 20 38 30 20 20 20 20  |  6E: CD B6 80     
 E490 | 20 20 30 31 36 33 20 20  20 20 20 20 20 20 20 20  |    0163           
 E4A0 | 20 20 20 20 43 41 4C 4C  20 49 32 43 5F 53 43 4C  |      CALL I2C_SCL 
 E4B0 | 5F 48 49 20 20 20 20 20  3B 53 43 4C 20 68 69 67  |  _HI     ;SCL hig 
 E4C0 | 68 20 20 28 53 43 4C 20  68 69 2C 20 53 44 41 20  |  h  (SCL hi, SDA  
 E4D0 | 3D 20 6C 6F 29 0D 0A 38  30 37 31 3A 20 43 44 20  |  = lo)..8071: CD  
 E4E0 | 43 34 20 38 30 20 20 20  20 20 20 30 31 36 34 20  |  C4 80      0164  
 E4F0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 43 41 4C  |               CAL 
 E500 | 4C 20 49 32 43 5F 53 44  41 5F 48 49 20 20 20 20  |  L I2C_SDA_HI     
 E510 | 20 3B 53 44 41 20 6C 6F  77 20 20 20 28 53 43 4C  |   ;SDA low   (SCL 
 E520 | 20 68 69 2C 20 53 44 41  20 3D 20 68 69 29 0D 0A  |   hi, SDA = hi).. 
 E530 | 38 30 37 34 3A 20 33 45  20 30 32 20 20 20 20 20  |  8074: 3E 02      
 E540 | 20 20 20 20 30 31 36 35  20 20 20 20 20 20 20 20  |      0165         
 E550 | 20 20 20 20 20 20 4C 44  20 20 20 41 2C 32 20 20  |        LD   A,2   
 E560 | 20 20 20 20 20 20 20 20  20 20 3B 52 65 74 75 72  |            ;Retur 
 E570 | 6E 20 65 72 72 6F 72 20  32 20 2D 20 4E 6F 20 41  |  n error 2 - No A 
 E580 | 63 6B 0D 0A 38 30 37 36  3A 20 42 37 20 20 20 20  |  ck..8076: B7     
 E590 | 20 20 20 20 20 20 20 20  30 31 36 36 20 20 20 20  |          0166     
 E5A0 | 20 20 20 20 20 20 20 20  20 20 4F 52 20 20 20 41  |            OR   A 
 E5B0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 3B 20  |                ;  
 E5C0 | 20 61 6E 64 20 4E 5A 20  66 6C 61 67 67 65 64 0D  |   and NZ flagged. 
 E5D0 | 0A 38 30 37 37 3A 20 43  39 20 20 20 20 20 20 20  |  .8077: C9        
 E5E0 | 20 20 20 20 20 30 31 36  37 20 20 20 20 20 20 20  |       0167        
 E5F0 | 20 20 20 20 20 20 20 52  45 54 0D 0A 20 20 20 20  |         RET..     
 E600 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 E610 | 30 31 36 38 20 20 0D 0A  20 20 20 20 20 20 20 20  |  0168  ..         
 E620 | 20 20 20 20 20 20 20 20  20 20 20 20 30 31 36 39  |              0169 
 E630 | 20 20 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |    ..             
 E640 | 20 20 20 20 20 20 20 20  30 31 37 30 20 20 3B 20  |          0170  ;  
 E650 | 49 32 43 20 62 75 73 20  72 65 63 65 69 76 65 20  |  I2C bus receive  
 E660 | 66 72 61 6D 65 20 28 64  61 74 61 29 0D 0A 20 20  |  frame (data)..   
 E670 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 E680 | 20 20 30 31 37 31 20 20  3B 20 20 20 4F 6E 20 65  |    0171  ;   On e 
 E690 | 6E 74 72 79 3A 20 53 43  4C 20 6C 6F 77 2C 20 53  |  ntry: SCL low, S 
 E6A0 | 44 41 20 6C 6F 77 0D 0A  20 20 20 20 20 20 20 20  |  DA low..         
 E6B0 | 20 20 20 20 20 20 20 20  20 20 20 20 30 31 37 32  |              0172 
 E6C0 | 20 20 3B 20 20 20 4F 6E  20 65 78 69 74 3A 20 20  |    ;   On exit:   
 E6D0 | 49 66 20 73 75 63 63 65  73 73 66 75 6C 20 41 20  |  If successful A  
 E6E0 | 3D 20 64 61 74 61 20 62  79 74 65 20 61 6E 64 20  |  = data byte and  
 E6F0 | 5A 20 66 6C 61 67 67 65  64 0D 0A 20 20 20 20 20  |  Z flagged..      
 E700 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 E710 | 31 37 33 20 20 3B 20 20  20 20 20 20 20 20 20 20  |  173  ;           
 E720 | 20 20 20 20 20 53 43 4C  20 3D 20 6C 6F 77 2C 20  |       SCL = low,  
 E730 | 53 44 41 20 3D 20 6C 6F  77 0D 0A 20 20 20 20 20  |  SDA = low..      
 E740 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 30  |                 0 
 E750 | 31 37 34 20 20 3B 20 20  20 20 20 20 20 20 20 20  |  174  ;           
 E760 | 20 20 20 49 66 20 75 6E  73 75 63 63 65 73 73 75  |     If unsuccessu 
 E770 | 6C 20 41 20 3D 20 45 72  72 6F 72 20 61 6E 64 20  |  l A = Error and  
 E780 | 4E 5A 20 66 6C 61 67 67  65 64 0D 0A 20 20 20 20  |  NZ flagged..     
 E790 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 E7A0 | 30 31 37 35 20 20 3B 20  20 20 20 20 20 20 20 20  |  0175  ;          
 E7B0 | 20 20 20 20 20 20 53 43  4C 20 3D 20 6C 6F 77 2C  |        SCL = low, 
 E7C0 | 20 53 44 41 20 3D 20 6C  6F 77 20 3F 3F 3F 20 6E  |   SDA = low ??? n 
 E7D0 | 6F 20 66 61 69 6C 75 72  65 73 20 73 75 70 70 6F  |  o failures suppo 
 E7E0 | 72 74 65 64 0D 0A 20 20  20 20 20 20 20 20 20 20  |  rted..           
 E7F0 | 20 20 20 20 20 20 20 20  20 20 30 31 37 36 20 20  |            0176   
 E800 | 3B 20 20 20 20 20 20 20  20 20 20 20 20 20 48 4C  |  ;             HL 
 E810 | 20 49 58 20 49 59 20 70  72 65 73 65 72 76 65 64  |   IX IY preserved 
 E820 | 0D 0A 38 30 37 38 3A 20  30 36 20 30 38 20 20 20  |  ..8078: 06 08    
 E830 | 20 20 20 20 20 20 30 31  37 37 20 20 49 32 43 5F  |        0177  I2C_ 
 E840 | 52 65 61 64 3A 20 20 20  4C 44 20 20 20 42 2C 38  |  Read:   LD   B,8 
 E850 | 20 20 20 20 20 20 20 20  20 20 20 20 3B 38 20 64  |              ;8 d 
 E860 | 61 74 61 20 62 69 74 73  2C 20 37 20 66 69 72 73  |  ata bits, 7 firs 
 E870 | 74 0D 0A 38 30 37 41 3A  20 43 44 20 43 34 20 38  |  t..807A: CD C4 8 
 E880 | 30 20 20 20 20 20 20 30  31 37 38 20 20 20 20 20  |  0      0178      
 E890 | 20 20 20 20 20 20 20 20  20 43 41 4C 4C 20 49 32  |           CALL I2 
 E8A0 | 43 5F 53 44 41 5F 48 49  20 20 20 20 20 3B 53 44  |  C_SDA_HI     ;SD 
 E8B0 | 41 20 68 69 67 68 20 20  28 53 43 4C 20 6C 6F 2C  |  A high  (SCL lo, 
 E8C0 | 20 53 44 41 20 68 69 2F  69 6E 70 75 74 29 0D 0A  |   SDA hi/input).. 
 E8D0 | 38 30 37 44 3A 20 43 44  20 42 36 20 38 30 20 20  |  807D: CD B6 80   
 E8E0 | 20 20 20 20 30 31 37 39  20 20 40 52 64 5F 4C 6F  |      0179  @Rd_Lo 
 E8F0 | 6F 70 3A 20 20 20 43 41  4C 4C 20 49 32 43 5F 53  |  op:   CALL I2C_S 
 E900 | 43 4C 5F 48 49 20 20 20  20 20 3B 53 43 4C 20 68  |  CL_HI     ;SCL h 
 E910 | 69 67 68 20 20 28 53 43  4C 20 68 69 2C 20 53 44  |  igh  (SCL hi, SD 
 E920 | 41 20 68 69 2F 69 6E 70  75 74 29 0D 0A 38 30 38  |  A hi/input)..808 
 E930 | 30 3A 20 43 44 20 44 43  20 38 30 20 20 20 20 20  |  0: CD DC 80      
 E940 | 20 30 31 38 30 20 20 20  20 20 20 20 20 20 20 20  |   0180            
 E950 | 20 20 20 43 41 4C 4C 20  49 32 43 5F 52 64 50 6F  |     CALL I2C_RdPo 
 E960 | 72 74 20 20 20 20 20 3B  52 65 61 64 20 53 44 41  |  rt     ;Read SDA 
 E970 | 20 69 6E 70 75 74 20 62  69 74 0D 0A 38 30 38 33  |   input bit..8083 
 E980 | 3A 20 33 37 20 20 20 20  20 20 20 20 20 20 20 20  |  : 37             
 E990 | 30 31 38 31 20 20 20 20  20 20 20 20 20 20 20 20  |  0181             
 E9A0 | 20 20 53 43 46 20 20 20  20 20 20 20 20 20 20 20  |    SCF            
 E9B0 | 20 20 20 20 20 20 3B 53  65 74 20 63 61 72 72 79  |        ;Set carry 
 E9C0 | 20 66 6C 61 67 0D 0A 38  30 38 34 3A 20 43 42 20  |   flag..8084: CB  
 E9D0 | 37 46 20 20 20 20 20 20  20 20 20 30 31 38 32 20  |  7F         0182  
 E9E0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 42 49 54  |               BIT 
 E9F0 | 20 20 49 32 43 5F 53 44  41 5F 52 44 2C 41 20 20  |    I2C_SDA_RD,A   
 EA00 | 20 3B 53 44 41 20 69 6E  70 75 74 20 68 69 67 68  |   ;SDA input high 
 EA10 | 3F 0D 0A 38 30 38 36 3A  20 32 30 20 30 31 20 20  |  ?..8086: 20 01   
 EA20 | 20 20 20 20 20 20 20 30  31 38 33 20 20 20 20 20  |         0183      
 EA30 | 20 20 20 20 20 20 20 20  20 4A 52 20 20 20 4E 5A  |           JR   NZ 
 EA40 | 2C 40 52 6F 74 61 74 65  20 20 20 20 20 3B 59 65  |  ,@Rotate     ;Ye 
 EA50 | 73 2C 20 73 6B 69 70 20  77 69 74 68 20 63 61 72  |  s, skip with car 
 EA60 | 72 79 20 66 6C 61 67 20  73 65 74 0D 0A 38 30 38  |  ry flag set..808 
 EA70 | 38 3A 20 33 46 20 20 20  20 20 20 20 20 20 20 20  |  8: 3F            
 EA80 | 20 30 31 38 34 20 20 20  20 20 20 20 20 20 20 20  |   0184            
 EA90 | 20 20 20 43 43 46 20 20  20 20 20 20 20 20 20 20  |     CCF           
 EAA0 | 20 20 20 20 20 20 20 3B  43 6C 65 61 72 20 63 61  |         ;Clear ca 
 EAB0 | 72 72 79 20 66 6C 61 67  0D 0A 38 30 38 39 3A 20  |  rry flag..8089:  
 EAC0 | 43 42 20 31 32 20 20 20  20 20 20 20 20 20 30 31  |  CB 12         01 
 EAD0 | 38 35 20 20 40 52 6F 74  61 74 65 3A 20 20 20 20  |  85  @Rotate:     
 EAE0 | 52 4C 20 20 20 44 20 20  20 20 20 20 20 20 20 20  |  RL   D           
 EAF0 | 20 20 20 20 3B 52 6F 74  61 74 65 20 72 65 73 75  |      ;Rotate resu 
 EB00 | 6C 74 20 69 6E 74 6F 20  44 0D 0A 38 30 38 42 3A  |  lt into D..808B: 
 EB10 | 20 43 44 20 42 44 20 38  30 20 20 20 20 20 20 30  |   CD BD 80      0 
 EB20 | 31 38 36 20 20 20 20 20  20 20 20 20 20 20 20 20  |  186              
 EB30 | 20 43 41 4C 4C 20 49 32  43 5F 53 43 4C 5F 4C 4F  |   CALL I2C_SCL_LO 
 EB40 | 20 20 20 20 20 3B 53 43  4C 20 6C 6F 77 20 20 20  |       ;SCL low    
 EB50 | 28 53 43 4C 20 6C 6F 2C  20 53 44 41 20 68 69 2F  |  (SCL lo, SDA hi/ 
 EB60 | 69 6E 70 75 74 29 0D 0A  38 30 38 45 3A 20 31 30  |  input)..808E: 10 
 EB70 | 20 45 44 20 20 20 20 20  20 20 20 20 30 31 38 37  |   ED         0187 
 EB80 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 44 4A  |                DJ 
 EB90 | 4E 5A 20 40 52 64 5F 4C  6F 6F 70 20 20 20 20 20  |  NZ @Rd_Loop      
 EBA0 | 20 20 3B 52 65 70 65 61  74 20 66 6F 72 20 61 6C  |    ;Repeat for al 
 EBB0 | 6C 20 38 20 62 69 74 73  0D 0A 20 20 20 20 20 20  |  l 8 bits..       
 EBC0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |                01 
 EBD0 | 38 38 20 20 3B 20 41 63  6B 6E 6F 77 6C 65 64 67  |  88  ; Acknowledg 
 EBE0 | 65 20 69 6E 70 75 74 20  62 79 74 65 0D 0A 20 20  |  e input byte..   
 EBF0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 EC00 | 20 20 30 31 38 39 20 20  3B 20 4F 6E 20 61 72 72  |    0189  ; On arr 
 EC10 | 69 76 69 6E 67 20 68 65  72 65 2C 20 53 43 4C 20  |  iving here, SCL  
 EC20 | 3D 20 6C 6F 2C 20 53 44  41 20 3D 20 68 69 2F 69  |  = lo, SDA = hi/i 
 EC30 | 6E 70 75 74 0D 0A 38 30  39 30 3A 20 43 44 20 43  |  nput..8090: CD C 
 EC40 | 42 20 38 30 20 20 20 20  20 20 30 31 39 30 20 20  |  B 80      0190   
 EC50 | 20 20 20 20 20 20 20 20  20 20 20 20 43 41 4C 4C  |              CALL 
 EC60 | 20 49 32 43 5F 53 44 41  5F 4C 4F 20 20 20 20 20  |   I2C_SDA_LO      
 EC70 | 3B 53 44 41 20 6C 6F 77  20 20 20 28 53 43 4C 20  |  ;SDA low   (SCL  
 EC80 | 6C 6F 2C 20 53 44 41 20  6C 6F 29 0D 0A 38 30 39  |  lo, SDA lo)..809 
 EC90 | 33 3A 20 43 44 20 42 36  20 38 30 20 20 20 20 20  |  3: CD B6 80      
 ECA0 | 20 30 31 39 31 20 20 20  20 20 20 20 20 20 20 20  |   0191            
 ECB0 | 20 20 20 43 41 4C 4C 20  49 32 43 5F 53 43 4C 5F  |     CALL I2C_SCL_ 
 ECC0 | 48 49 20 20 20 20 20 3B  53 43 4C 20 68 69 20 20  |  HI     ;SCL hi   
 ECD0 | 20 20 28 53 43 4C 20 68  69 2C 20 53 44 41 20 6C  |    (SCL hi, SDA l 
 ECE0 | 6F 29 0D 0A 38 30 39 36  3A 20 43 44 20 42 44 20  |  o)..8096: CD BD  
 ECF0 | 38 30 20 20 20 20 20 20  30 31 39 32 20 20 20 20  |  80      0192     
 ED00 | 20 20 20 20 20 20 20 20  20 20 43 41 4C 4C 20 49  |            CALL I 
 ED10 | 32 43 5F 53 43 4C 5F 4C  4F 20 20 20 20 20 3B 53  |  2C_SCL_LO     ;S 
 ED20 | 43 4C 20 6C 6F 77 20 20  20 28 53 43 4C 20 6C 6F  |  CL low   (SCL lo 
 ED30 | 2C 20 53 44 41 20 6C 6F  29 0D 0A 38 30 39 39 3A  |  , SDA lo)..8099: 
 ED40 | 20 37 41 20 20 20 20 20  20 20 20 20 20 20 20 30  |   7A            0 
 ED50 | 31 39 33 20 20 20 20 20  20 20 20 20 20 20 20 20  |  193              
 ED60 | 20 4C 44 20 20 20 41 2C  44 20 20 20 20 20 20 20  |   LD   A,D        
 ED70 | 20 20 20 20 20 3B 47 65  74 20 64 61 74 61 20 62  |       ;Get data b 
 ED80 | 79 74 65 20 72 65 63 65  69 76 65 64 0D 0A 38 30  |  yte received..80 
 ED90 | 39 41 3A 20 42 46 20 20  20 20 20 20 20 20 20 20  |  9A: BF           
 EDA0 | 20 20 30 31 39 34 20 20  20 20 20 20 20 20 20 20  |    0194           
 EDB0 | 20 20 20 20 43 50 20 20  20 41 20 20 20 20 20 20  |      CP   A       
 EDC0 | 20 20 20 20 20 20 20 20  3B 52 65 74 75 72 6E 20  |          ;Return  
 EDD0 | 73 75 63 63 65 73 73 20  5A 20 66 6C 61 67 67 65  |  success Z flagge 
 EDE0 | 64 0D 0A 38 30 39 42 3A  20 43 39 20 20 20 20 20  |  d..809B: C9      
 EDF0 | 20 20 20 20 20 20 20 30  31 39 35 20 20 20 20 20  |         0195      
 EE00 | 20 20 20 20 20 20 20 20  20 52 45 54 0D 0A 20 20  |           RET..   
 EE10 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 EE20 | 20 20 30 31 39 36 20 20  0D 0A 20 20 20 20 20 20  |    0196  ..       
 EE30 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 31  |                01 
 EE40 | 39 37 20 20 0D 0A 20 20  20 20 20 20 20 20 20 20  |  97  ..           
 EE50 | 20 20 20 20 20 20 20 20  20 20 30 31 39 38 20 20  |            0198   
 EE60 | 3B 20 49 32 43 20 62 75  73 20 73 74 61 72 74 0D  |  ; I2C bus start. 
 EE70 | 0A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  .                
 EE80 | 20 20 20 20 20 30 31 39  39 20 20 3B 20 20 20 4F  |       0199  ;   O 
 EE90 | 6E 20 65 6E 74 72 79 3A  20 53 43 4C 20 3D 20 75  |  n entry: SCL = u 
 EEA0 | 6E 6B 6E 6F 77 6E 2C 20  53 44 41 20 3D 20 75 6E  |  nknown, SDA = un 
 EEB0 | 6B 6E 6F 77 6E 0D 0A 20  20 20 20 20 20 20 20 20  |  known..          
 EEC0 | 20 20 20 20 20 20 20 20  20 20 20 30 32 30 30 20  |             0200  
 EED0 | 20 3B 20 20 20 4F 6E 20  65 78 69 74 3A 20 20 53  |   ;   On exit:  S 
 EEE0 | 43 4C 20 3D 20 6C 6F 77  2C 20 53 44 41 20 3D 20  |  CL = low, SDA =  
 EEF0 | 6C 6F 77 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  low..            
 EF00 | 20 20 20 20 20 20 20 20  20 30 32 30 31 20 20 3B  |           0201  ; 
 EF10 | 20 20 20 20 20 20 20 20  20 20 20 20 20 42 43 20  |               BC  
 EF20 | 44 45 20 48 4C 20 49 58  20 49 59 20 70 72 65 73  |  DE HL IX IY pres 
 EF30 | 65 72 76 65 64 0D 0A 20  20 20 20 20 20 20 20 20  |  erved..          
 EF40 | 20 20 20 20 20 20 20 20  20 20 20 30 32 30 32 20  |             0202  
 EF50 | 20 3B 20 46 69 72 73 74  20 65 6E 73 75 72 65 20  |   ; First ensure  
 EF60 | 53 44 41 20 61 6E 64 20  53 43 4C 20 61 72 65 20  |  SDA and SCL are  
 EF70 | 68 69 67 68 0D 0A 38 30  39 43 3A 20 43 44 20 42  |  high..809C: CD B 
 EF80 | 36 20 38 30 20 20 20 20  20 20 30 32 30 33 20 20  |  6 80      0203   
 EF90 | 49 32 43 5F 53 74 61 72  74 3A 20 20 43 41 4C 4C  |  I2C_Start:  CALL 
 EFA0 | 20 49 32 43 5F 53 43 4C  5F 48 49 20 20 20 20 20  |   I2C_SCL_HI      
 EFB0 | 3B 53 43 4C 20 68 69 67  68 20 20 28 53 43 4C 20  |  ;SCL high  (SCL  
 EFC0 | 68 69 2C 20 53 44 41 20  3F 3F 29 0D 0A 38 30 39  |  hi, SDA ??)..809 
 EFD0 | 46 3A 20 43 44 20 43 34  20 38 30 20 20 20 20 20  |  F: CD C4 80      
 EFE0 | 20 30 32 30 34 20 20 20  20 20 20 20 20 20 20 20  |   0204            
 EFF0 | 20 20 20 43 41 4C 4C 20  49 32 43 5F 53 44 41 5F  |     CALL I2C_SDA_ 
 F000 | 48 49 20 20 20 20 20 3B  53 44 41 20 68 69 67 68  |  HI     ;SDA high 
 F010 | 20 20 28 53 43 4C 20 68  69 2C 20 53 44 41 20 68  |    (SCL hi, SDA h 
 F020 | 69 29 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  i)..             
 F030 | 20 20 20 20 20 20 20 20  30 32 30 35 20 20 3B 20  |          0205  ;  
 F040 | 47 65 6E 65 72 61 74 65  20 49 32 43 20 73 74 61  |  Generate I2C sta 
 F050 | 72 74 20 63 6F 6E 64 69  74 69 6F 6E 0D 0A 38 30  |  rt condition..80 
 F060 | 41 32 3A 20 43 44 20 43  42 20 38 30 20 20 20 20  |  A2: CD CB 80     
 F070 | 20 20 30 32 30 36 20 20  20 20 20 20 20 20 20 20  |    0206           
 F080 | 20 20 20 20 43 41 4C 4C  20 49 32 43 5F 53 44 41  |      CALL I2C_SDA 
 F090 | 5F 4C 4F 20 20 20 20 20  3B 53 44 41 20 6C 6F 77  |  _LO     ;SDA low 
 F0A0 | 20 20 20 28 53 43 4C 20  68 69 2C 20 53 44 41 20  |     (SCL hi, SDA  
 F0B0 | 6C 6F 29 0D 0A 38 30 41  35 3A 20 43 44 20 42 44  |  lo)..80A5: CD BD 
 F0C0 | 20 38 30 20 20 20 20 20  20 30 32 30 37 20 20 20  |   80      0207    
 F0D0 | 20 20 20 20 20 20 20 20  20 20 20 43 41 4C 4C 20  |             CALL  
 F0E0 | 49 32 43 5F 53 43 4C 5F  4C 4F 20 20 20 20 20 3B  |  I2C_SCL_LO     ; 
 F0F0 | 53 43 4C 20 6C 6F 77 20  20 20 28 53 43 4C 20 6C  |  SCL low   (SCL l 
 F100 | 6F 2C 20 53 44 41 20 6C  6F 29 0D 0A 38 30 41 38  |  o, SDA lo)..80A8 
 F110 | 3A 20 43 39 20 20 20 20  20 20 20 20 20 20 20 20  |  : C9             
 F120 | 30 32 30 38 20 20 20 20  20 20 20 20 20 20 20 20  |  0208             
 F130 | 20 20 52 45 54 0D 0A 20  20 20 20 20 20 20 20 20  |    RET..          
 F140 | 20 20 20 20 20 20 20 20  20 20 20 30 32 30 39 20  |             0209  
 F150 | 20 0D 0A 20 20 20 20 20  20 20 20 20 20 20 20 20  |   ..              
 F160 | 20 20 20 20 20 20 20 30  32 31 30 20 20 0D 0A 20  |         0210  ..  
 F170 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F180 | 20 20 20 30 32 31 31 20  20 3B 20 49 32 43 20 62  |     0211  ; I2C b 
 F190 | 75 73 20 73 74 6F 70 20  0D 0A 20 20 20 20 20 20  |  us stop ..       
 F1A0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 32  |                02 
 F1B0 | 31 32 20 20 3B 20 20 20  4F 6E 20 65 6E 74 72 79  |  12  ;   On entry 
 F1C0 | 3A 20 53 43 4C 20 3D 20  75 6E 6B 6E 6F 77 6E 2C  |  : SCL = unknown, 
 F1D0 | 20 53 44 41 20 3D 20 75  6E 6B 6E 6F 77 6E 0D 0A  |   SDA = unknown.. 
 F1E0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F1F0 | 20 20 20 20 30 32 31 33  20 20 3B 20 20 20 4F 6E  |      0213  ;   On 
 F200 | 20 65 78 69 74 3A 20 20  53 43 4C 20 3D 20 68 69  |   exit:  SCL = hi 
 F210 | 67 68 2C 20 53 44 41 20  3D 20 68 69 67 68 0D 0A  |  gh, SDA = high.. 
 F220 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F230 | 20 20 20 20 30 32 31 34  20 20 3B 20 20 20 20 20  |      0214  ;      
 F240 | 20 20 20 20 20 20 20 20  42 43 20 44 45 20 48 4C  |          BC DE HL 
 F250 | 20 49 58 20 49 59 20 70  72 65 73 65 72 76 65 64  |   IX IY preserved 
 F260 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 F270 | 20 20 20 20 20 20 30 32  31 35 20 20 3B 20 46 69  |        0215  ; Fi 
 F280 | 72 73 74 20 65 6E 73 75  72 65 20 53 44 41 20 61  |  rst ensure SDA a 
 F290 | 6E 64 20 53 43 4C 20 61  72 65 20 6C 6F 77 0D 0A  |  nd SCL are low.. 
 F2A0 | 38 30 41 39 3A 20 43 44  20 43 42 20 38 30 20 20  |  80A9: CD CB 80   
 F2B0 | 20 20 20 20 30 32 31 36  20 20 49 32 43 5F 53 74  |      0216  I2C_St 
 F2C0 | 6F 70 3A 20 20 20 43 41  4C 4C 20 49 32 43 5F 53  |  op:   CALL I2C_S 
 F2D0 | 44 41 5F 4C 4F 20 20 20  20 20 3B 53 44 41 20 6C  |  DA_LO     ;SDA l 
 F2E0 | 6F 77 20 20 20 28 53 43  4C 20 68 69 2C 20 53 44  |  ow   (SCL hi, SD 
 F2F0 | 41 20 6C 6F 29 0D 0A 38  30 41 43 3A 20 43 44 20  |  A lo)..80AC: CD  
 F300 | 42 44 20 38 30 20 20 20  20 20 20 30 32 31 37 20  |  BD 80      0217  
 F310 | 20 20 20 20 20 20 20 20  20 20 20 20 20 43 41 4C  |               CAL 
 F320 | 4C 20 49 32 43 5F 53 43  4C 5F 4C 4F 20 20 20 20  |  L I2C_SCL_LO     
 F330 | 20 3B 53 43 4C 20 6C 6F  77 20 20 20 28 53 43 4C  |   ;SCL low   (SCL 
 F340 | 20 6C 6F 2C 20 53 44 41  20 6C 6F 29 0D 0A 20 20  |   lo, SDA lo)..   
 F350 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F360 | 20 20 30 32 31 38 20 20  3B 20 47 65 6E 65 72 61  |    0218  ; Genera 
 F370 | 74 65 20 73 74 6F 70 20  63 6F 6E 64 69 74 69 6F  |  te stop conditio 
 F380 | 6E 0D 0A 38 30 41 46 3A  20 43 44 20 42 36 20 38  |  n..80AF: CD B6 8 
 F390 | 30 20 20 20 20 20 20 30  32 31 39 20 20 20 20 20  |  0      0219      
 F3A0 | 20 20 20 20 20 20 20 20  20 43 41 4C 4C 20 49 32  |           CALL I2 
 F3B0 | 43 5F 53 43 4C 5F 48 49  20 20 20 20 20 3B 53 43  |  C_SCL_HI     ;SC 
 F3C0 | 4C 20 68 69 67 68 20 20  28 53 43 4C 20 68 69 2C  |  L high  (SCL hi, 
 F3D0 | 20 53 44 41 20 6C 6F 29  0D 0A 38 30 42 32 3A 20  |   SDA lo)..80B2:  
 F3E0 | 43 44 20 43 34 20 38 30  20 20 20 20 20 20 30 32  |  CD C4 80      02 
 F3F0 | 32 30 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  20               
 F400 | 43 41 4C 4C 20 49 32 43  5F 53 44 41 5F 48 49 20  |  CALL I2C_SDA_HI  
 F410 | 20 20 20 20 3B 53 44 41  20 6C 6F 77 20 20 20 28  |      ;SDA low   ( 
 F420 | 53 43 4C 20 68 69 2C 20  53 44 41 20 68 69 29 0D  |  SCL hi, SDA hi). 
 F430 | 0A 38 30 42 35 3A 20 43  39 20 20 20 20 20 20 20  |  .80B5: C9        
 F440 | 20 20 20 20 20 30 32 32  31 20 20 20 20 20 20 20  |       0221        
 F450 | 20 20 20 20 20 20 20 52  45 54 0D 0A 20 20 20 20  |         RET..     
 F460 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F470 | 30 32 32 32 20 20 0D 0A  20 20 20 20 20 20 20 20  |  0222  ..         
 F480 | 20 20 20 20 20 20 20 20  20 20 20 20 30 32 32 33  |              0223 
 F490 | 20 20 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |    ..             
 F4A0 | 20 20 20 20 20 20 20 20  30 32 32 34 20 20 3B 20  |          0224  ;  
 F4B0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 F4C0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 F4D0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 F4E0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 F4F0 | 2A 2A 2A 2A 2A 2A 0D 0A  20 20 20 20 20 20 20 20  |  ******..         
 F500 | 20 20 20 20 20 20 20 20  20 20 20 20 30 32 32 35  |              0225 
 F510 | 20 20 3B 20 49 32 43 20  62 75 73 20 73 69 6D 70  |    ; I2C bus simp 
 F520 | 6C 65 20 49 2F 4F 20 66  75 6E 63 74 69 6F 6E 73  |  le I/O functions 
 F530 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 F540 | 20 20 20 20 20 20 30 32  32 36 20 20 3B 20 20 20  |        0226  ;    
 F550 | 4F 6E 20 65 6E 74 72 79  3A 20 4E 6F 20 70 61 72  |  On entry: No par 
 F560 | 61 6D 65 74 65 72 73 20  72 65 71 75 69 72 65 64  |  ameters required 
 F570 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 F580 | 20 20 20 20 20 20 30 32  32 37 20 20 3B 20 20 20  |        0227  ;    
 F590 | 4F 6E 20 65 78 69 74 3A  20 20 42 43 20 44 45 20  |  On exit:  BC DE  
 F5A0 | 48 4C 20 49 58 20 49 59  20 70 72 65 73 65 72 76  |  HL IX IY preserv 
 F5B0 | 65 64 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  ed..             
 F5C0 | 20 20 20 20 20 20 20 20  30 32 32 38 20 20 0D 0A  |          0228  .. 
 F5D0 | 38 30 42 36 3A 20 20 20  20 20 20 20 20 20 20 20  |  80B6:            
 F5E0 | 20 20 20 20 30 32 32 39  20 20 49 32 43 5F 53 43  |      0229  I2C_SC 
 F5F0 | 4C 5F 48 49 3A 0D 0A 38  30 42 36 3A 20 33 41 20  |  L_HI:..80B6: 3A  
 F600 | 45 39 20 38 30 20 20 20  20 20 20 30 32 32 39 20  |  E9 80      0229  
 F610 | 20 49 32 43 5F 53 43 4C  5F 48 49 3A 20 4C 44 20  |   I2C_SCL_HI: LD  
 F620 | 20 20 41 2C 28 49 32 43  5F 52 41 4D 43 50 59 29  |    A,(I2C_RAMCPY) 
 F630 | 0D 0A 38 30 42 39 3A 20  43 42 20 43 37 20 20 20  |  ..80B9: CB C7    
 F640 | 20 20 20 20 20 20 30 32  33 30 20 20 20 20 20 20  |        0230       
 F650 | 20 20 20 20 20 20 20 20  53 45 54 20 20 49 32 43  |          SET  I2C 
 F660 | 5F 53 43 4C 5F 57 52 2C  41 0D 0A 38 30 42 42 3A  |  _SCL_WR,A..80BB: 
 F670 | 20 31 38 20 31 33 20 20  20 20 20 20 20 20 20 30  |   18 13         0 
 F680 | 32 33 31 20 20 20 20 20  20 20 20 20 20 20 20 20  |  231              
 F690 | 20 4A 52 20 20 20 49 32  43 5F 57 72 50 6F 72 74  |   JR   I2C_WrPort 
 F6A0 | 0D 0A 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  ..               
 F6B0 | 20 20 20 20 20 20 30 32  33 32 20 20 0D 0A 38 30  |        0232  ..80 
 F6C0 | 42 44 3A 20 20 20 20 20  20 20 20 20 20 20 20 20  |  BD:              
 F6D0 | 20 20 30 32 33 33 20 20  49 32 43 5F 53 43 4C 5F  |    0233  I2C_SCL_ 
 F6E0 | 4C 4F 3A 0D 0A 38 30 42  44 3A 20 33 41 20 45 39  |  LO:..80BD: 3A E9 
 F6F0 | 20 38 30 20 20 20 20 20  20 30 32 33 33 20 20 49  |   80      0233  I 
 F700 | 32 43 5F 53 43 4C 5F 4C  4F 3A 20 4C 44 20 20 20  |  2C_SCL_LO: LD    
 F710 | 41 2C 28 49 32 43 5F 52  41 4D 43 50 59 29 0D 0A  |  A,(I2C_RAMCPY).. 
 F720 | 38 30 43 30 3A 20 43 42  20 38 37 20 20 20 20 20  |  80C0: CB 87      
 F730 | 20 20 20 20 30 32 33 34  20 20 20 20 20 20 20 20  |      0234         
 F740 | 20 20 20 20 20 20 52 45  53 20 20 49 32 43 5F 53  |        RES  I2C_S 
 F750 | 43 4C 5F 57 52 2C 41 0D  0A 38 30 43 32 3A 20 31  |  CL_WR,A..80C2: 1 
 F760 | 38 20 30 43 20 20 20 20  20 20 20 20 20 30 32 33  |  8 0C         023 
 F770 | 35 20 20 20 20 20 20 20  20 20 20 20 20 20 20 4A  |  5              J 
 F780 | 52 20 20 20 49 32 43 5F  57 72 50 6F 72 74 0D 0A  |  R   I2C_WrPort.. 
 F790 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F7A0 | 20 20 20 20 30 32 33 36  20 20 0D 0A 38 30 43 34  |      0236  ..80C4 
 F7B0 | 3A 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  :                
 F7C0 | 30 32 33 37 20 20 49 32  43 5F 53 44 41 5F 48 49  |  0237  I2C_SDA_HI 
 F7D0 | 3A 0D 0A 38 30 43 34 3A  20 33 41 20 45 39 20 38  |  :..80C4: 3A E9 8 
 F7E0 | 30 20 20 20 20 20 20 30  32 33 37 20 20 49 32 43  |  0      0237  I2C 
 F7F0 | 5F 53 44 41 5F 48 49 3A  20 4C 44 20 20 20 41 2C  |  _SDA_HI: LD   A, 
 F800 | 28 49 32 43 5F 52 41 4D  43 50 59 29 0D 0A 38 30  |  (I2C_RAMCPY)..80 
 F810 | 43 37 3A 20 43 42 20 46  46 20 20 20 20 20 20 20  |  C7: CB FF        
 F820 | 20 20 30 32 33 38 20 20  20 20 20 20 20 20 20 20  |    0238           
 F830 | 20 20 20 20 53 45 54 20  20 49 32 43 5F 53 44 41  |      SET  I2C_SDA 
 F840 | 5F 57 52 2C 41 0D 0A 38  30 43 39 3A 20 31 38 20  |  _WR,A..80C9: 18  
 F850 | 30 35 20 20 20 20 20 20  20 20 20 30 32 33 39 20  |  05         0239  
 F860 | 20 20 20 20 20 20 20 20  20 20 20 20 20 4A 52 20  |               JR  
 F870 | 20 20 49 32 43 5F 57 72  50 6F 72 74 0D 0A 20 20  |    I2C_WrPort..   
 F880 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F890 | 20 20 30 32 34 30 20 20  0D 0A 38 30 43 42 3A 20  |    0240  ..80CB:  
 F8A0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 30 32  |                02 
 F8B0 | 34 31 20 20 49 32 43 5F  53 44 41 5F 4C 4F 3A 0D  |  41  I2C_SDA_LO:. 
 F8C0 | 0A 38 30 43 42 3A 20 33  41 20 45 39 20 38 30 20  |  .80CB: 3A E9 80  
 F8D0 | 20 20 20 20 20 30 32 34  31 20 20 49 32 43 5F 53  |       0241  I2C_S 
 F8E0 | 44 41 5F 4C 4F 3A 20 4C  44 20 20 20 41 2C 28 49  |  DA_LO: LD   A,(I 
 F8F0 | 32 43 5F 52 41 4D 43 50  59 29 0D 0A 38 30 43 45  |  2C_RAMCPY)..80CE 
 F900 | 3A 20 43 42 20 42 46 20  20 20 20 20 20 20 20 20  |  : CB BF          
 F910 | 30 32 34 32 20 20 20 20  20 20 20 20 20 20 20 20  |  0242             
 F920 | 20 20 52 45 53 20 20 49  32 43 5F 53 44 41 5F 57  |    RES  I2C_SDA_W 
 F930 | 52 2C 41 0D 0A 20 20 20  20 20 20 20 20 20 20 20  |  R,A..            
 F940 | 20 20 20 20 20 20 20 20  20 30 32 34 33 20 20 20  |           0243    
 F950 | 20 20 20 20 20 20 20 20  20 20 20 3B 4A 52 20 20  |             ;JR   
 F960 | 20 49 32 43 5F 57 72 50  6F 72 74 0D 0A 20 20 20  |   I2C_WrPort..    
 F970 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 F980 | 20 30 32 34 34 20 20 0D  0A 38 30 44 30 3A 20 20  |   0244  ..80D0:   
 F990 | 20 20 20 20 20 20 20 20  20 20 20 20 20 30 32 34  |               024 
 F9A0 | 35 20 20 49 32 43 5F 57  72 50 6F 72 74 3A 0D 0A  |  5  I2C_WrPort:.. 
 F9B0 | 38 30 44 30 3A 20 43 35  20 20 20 20 20 20 20 20  |  80D0: C5         
 F9C0 | 20 20 20 20 30 32 34 35  20 20 49 32 43 5F 57 72  |      0245  I2C_Wr 
 F9D0 | 50 6F 72 74 3A 20 50 55  53 48 20 42 43 0D 0A 38  |  Port: PUSH BC..8 
 F9E0 | 30 44 31 3A 20 30 36 20  30 30 20 20 20 20 20 20  |  0D1: 06 00       
 F9F0 | 20 20 20 30 32 34 36 20  20 20 20 20 20 20 20 20  |     0246          
 FA00 | 20 20 20 20 20 4C 44 20  20 20 42 2C 30 20 20 20  |       LD   B,0    
 FA10 | 20 20 20 20 20 20 20 20  20 3B 53 65 74 20 75 70  |           ;Set up 
 FA20 | 20 42 43 20 66 6F 72 20  31 36 2D 62 69 74 0D 0A  |   BC for 16-bit.. 
 FA30 | 38 30 44 33 3A 20 30 45  20 30 43 20 20 20 20 20  |  80D3: 0E 0C      
 FA40 | 20 20 20 20 30 32 34 37  20 20 20 20 20 20 20 20  |      0247         
 FA50 | 20 20 20 20 20 20 4C 44  20 20 20 43 2C 49 32 43  |        LD   C,I2C 
 FA60 | 5F 50 4F 52 54 20 20 20  20 20 3B 20 20 49 2F 4F  |  _PORT     ;  I/O 
 FA70 | 20 61 64 64 72 65 73 73  20 6F 66 20 49 32 43 20  |   address of I2C  
 FA80 | 70 6F 72 74 0D 0A 38 30  44 35 3A 20 45 44 20 37  |  port..80D5: ED 7 
 FA90 | 39 20 20 20 20 20 20 20  20 20 30 32 34 38 20 20  |  9         0248   
 FAA0 | 20 20 20 20 20 20 20 20  20 20 20 20 4F 55 54 20  |              OUT  
 FAB0 | 20 28 43 29 2C 41 20 20  20 20 20 20 20 20 20 20  |   (C),A           
 FAC0 | 3B 57 72 69 74 65 20 41  20 74 6F 20 49 32 43 20  |  ;Write A to I2C  
 FAD0 | 49 2F 4F 20 70 6F 72 74  0D 0A 38 30 44 37 3A 20  |  I/O port..80D7:  
 FAE0 | 33 32 20 45 39 20 38 30  20 20 20 20 20 20 30 32  |  32 E9 80      02 
 FAF0 | 34 39 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  49               
 FB00 | 4C 44 20 20 20 28 49 32  43 5F 52 41 4D 43 50 59  |  LD   (I2C_RAMCPY 
 FB10 | 29 2C 41 20 3B 57 72 69  74 65 20 41 20 74 6F 20  |  ),A ;Write A to  
 FB20 | 52 41 4D 20 63 6F 70 79  0D 0A 38 30 44 41 3A 20  |  RAM copy..80DA:  
 FB30 | 43 31 20 20 20 20 20 20  20 20 20 20 20 20 30 32  |  C1            02 
 FB40 | 35 30 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |  50               
 FB50 | 50 4F 50 20 20 42 43 0D  0A 38 30 44 42 3A 20 43  |  POP  BC..80DB: C 
 FB60 | 39 20 20 20 20 20 20 20  20 20 20 20 20 30 32 35  |  9            025 
 FB70 | 31 20 20 20 20 20 20 20  20 20 20 20 20 20 20 52  |  1              R 
 FB80 | 45 54 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  ET..             
 FB90 | 20 20 20 20 20 20 20 20  30 32 35 32 20 20 0D 0A  |          0252  .. 
 FBA0 | 38 30 44 43 3A 20 20 20  20 20 20 20 20 20 20 20  |  80DC:            
 FBB0 | 20 20 20 20 30 32 35 33  20 20 49 32 43 5F 52 64  |      0253  I2C_Rd 
 FBC0 | 50 6F 72 74 3A 0D 0A 38  30 44 43 3A 20 43 35 20  |  Port:..80DC: C5  
 FBD0 | 20 20 20 20 20 20 20 20  20 20 20 30 32 35 33 20  |             0253  
 FBE0 | 20 49 32 43 5F 52 64 50  6F 72 74 3A 20 50 55 53  |   I2C_RdPort: PUS 
 FBF0 | 48 20 42 43 0D 0A 38 30  44 44 3A 20 30 36 20 30  |  H BC..80DD: 06 0 
 FC00 | 30 20 20 20 20 20 20 20  20 20 30 32 35 34 20 20  |  0         0254   
 FC10 | 20 20 20 20 20 20 20 20  20 20 20 20 4C 44 20 20  |              LD   
 FC20 | 20 42 2C 30 20 20 20 20  20 20 20 20 20 20 20 20  |   B,0             
 FC30 | 3B 53 65 74 20 75 70 20  42 43 20 66 6F 72 20 31  |  ;Set up BC for 1 
 FC40 | 36 2D 62 69 74 0D 0A 38  30 44 46 3A 20 30 45 20  |  6-bit..80DF: 0E  
 FC50 | 30 43 20 20 20 20 20 20  20 20 20 30 32 35 35 20  |  0C         0255  
 FC60 | 20 20 20 20 20 20 20 20  20 20 20 20 20 4C 44 20  |               LD  
 FC70 | 20 20 43 2C 49 32 43 5F  50 4F 52 54 20 20 20 20  |    C,I2C_PORT     
 FC80 | 20 3B 20 20 49 2F 4F 20  61 64 64 72 65 73 73 20  |   ;  I/O address  
 FC90 | 6F 66 20 49 32 43 20 70  6F 72 74 0D 0A 38 30 45  |  of I2C port..80E 
 FCA0 | 31 3A 20 45 44 20 37 38  20 20 20 20 20 20 20 20  |  1: ED 78         
 FCB0 | 20 30 32 35 36 20 20 20  20 20 20 20 20 20 20 20  |   0256            
 FCC0 | 20 20 20 49 4E 20 20 20  41 2C 28 43 29 20 20 20  |     IN   A,(C)    
 FCD0 | 20 20 20 20 20 20 20 3B  52 65 61 64 20 41 20 66  |         ;Read A f 
 FCE0 | 72 6F 6D 20 49 2F 4F 20  70 6F 72 74 0D 0A 38 30  |  rom I/O port..80 
 FCF0 | 45 33 3A 20 43 31 20 20  20 20 20 20 20 20 20 20  |  E3: C1           
 FD00 | 20 20 30 32 35 37 20 20  20 20 20 20 20 20 20 20  |    0257           
 FD10 | 20 20 20 20 50 4F 50 20  20 42 43 0D 0A 38 30 45  |      POP  BC..80E 
 FD20 | 34 3A 20 43 39 20 20 20  20 20 20 20 20 20 20 20  |  4: C9            
 FD30 | 20 30 32 35 38 20 20 20  20 20 20 20 20 20 20 20  |   0258            
 FD40 | 20 20 20 52 45 54 0D 0A  20 20 20 20 20 20 20 20  |     RET..         
 FD50 | 20 20 20 20 20 20 20 20  20 20 20 20 30 32 35 39  |              0259 
 FD60 | 20 20 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |    ..             
 FD70 | 20 20 20 20 20 20 20 20  30 32 36 30 20 20 0D 0A  |          0260  .. 
 FD80 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 FD90 | 20 20 20 20 30 32 36 31  20 20 3B 20 2A 2A 2A 2A  |      0261  ; **** 
 FDA0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 FDB0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 FDC0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 FDD0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 FDE0 | 2A 2A 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |  **..             
 FDF0 | 20 20 20 20 20 20 20 20  30 32 36 32 20 20 3B 20  |          0262  ;  
 FE00 | 53 6D 61 6C 6C 20 63 6F  6D 70 75 74 65 72 20 6D  |  Small computer m 
 FE10 | 6F 6E 69 74 6F 72 20 41  50 49 0D 0A 20 20 20 20  |  onitor API..     
 FE20 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 FE30 | 30 32 36 33 20 20 0D 0A  20 20 20 20 20 20 20 20  |  0263  ..         
 FE40 | 20 20 20 20 20 20 20 20  20 20 20 20 30 32 36 34  |              0264 
 FE50 | 20 20 3B 20 44 65 6C 61  79 20 62 79 20 44 45 20  |    ; Delay by DE  
 FE60 | 6D 69 6C 6C 69 73 65 63  6F 6E 64 73 20 28 61 70  |  milliseconds (ap 
 FE70 | 70 72 6F 78 29 0D 0A 20  20 20 20 20 20 20 20 20  |  prox)..          
 FE80 | 20 20 20 20 20 20 20 20  20 20 20 30 32 36 35 20  |             0265  
 FE90 | 20 3B 20 20 20 4F 6E 20  65 6E 74 72 79 3A 20 44  |   ;   On entry: D 
 FEA0 | 45 20 3D 20 44 65 6C 61  79 20 74 69 6D 65 20 69  |  E = Delay time i 
 FEB0 | 6E 20 6D 69 6C 6C 69 73  65 63 6F 6E 64 73 0D 0A  |  n milliseconds.. 
 FEC0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 FED0 | 20 20 20 20 30 32 36 36  20 20 3B 20 20 20 4F 6E  |      0266  ;   On 
 FEE0 | 20 65 78 69 74 3A 20 20  49 58 20 49 59 20 70 72  |   exit:  IX IY pr 
 FEF0 | 65 73 65 72 76 65 64 0D  0A 38 30 45 35 3A 20 30  |  eserved..80E5: 0 
 FF00 | 45 20 30 41 20 20 20 20  20 20 20 20 20 30 32 36  |  E 0A         026 
 FF10 | 37 20 20 41 50 49 5F 44  65 6C 61 79 3A 20 20 4C  |  7  API_Delay:  L 
 FF20 | 44 20 20 20 43 2C 30 78  30 41 0D 0A 38 30 45 37  |  D   C,0x0A..80E7 
 FF30 | 3A 20 46 37 20 20 20 20  20 20 20 20 20 20 20 20  |  : F7             
 FF40 | 30 32 36 38 20 20 20 20  20 20 20 20 20 20 20 20  |  0268             
 FF50 | 20 20 52 53 54 20 20 30  78 33 30 0D 0A 38 30 45  |    RST  0x30..80E 
 FF60 | 38 3A 20 43 39 20 20 20  20 20 20 20 20 20 20 20  |  8: C9            
 FF70 | 20 30 32 36 39 20 20 20  20 20 20 20 20 20 20 20  |   0269            
 FF80 | 20 20 20 52 45 54 0D 0A  20 20 20 20 20 20 20 20  |     RET..         
 FF90 | 20 20 20 20 20 20 20 20  20 20 20 20 30 32 37 30  |              0270 
 FFA0 | 20 20 0D 0A 20 20 20 20  20 20 20 20 20 20 20 20  |    ..             
 FFB0 | 20 20 20 20 20 20 20 20  30 32 37 31 20 20 0D 0A  |          0271  .. 
 FFC0 | 20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                   
 FFD0 | 20 20 20 20 30 32 37 32  20 20 3B 20 2A 2A 2A 2A  |      0272  ; **** 
 FFE0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 
 FFF0 | 2A 2A 2A 2A 2A 2A 2A 2A  2A 2A 2A 2A 2A 2A 2A 2A  |  **************** 

TX Buffer
 0000 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 0010 | 20 43 4F 4D 00 1B 80 41  00 00 FF FF 01 20 20 20  |   COM...A.....    
 0020 | 00 00 00 00 00 00 00 00  1B 00 01 00 00 00 F0 14  |  ................ 
 0030 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 1C  |  $..WDUMP   COM.. 
 0040 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 0050 | 00 00 1C 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..........$..WDU 
 0060 | 4D 50 20 20 20 43 4F 4D  00 1D 80 41 00 00 FF FF  |  MP   COM...A.... 
 0070 | 01 20 20 20 00 00 00 00  00 00 00 00 1D 00 01 00  |  .   ............ 
 0080 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 0090 | 4F 4D 00 1E 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM...A.....   .. 
 00A0 | 00 00 00 00 00 00 1E 00  01 00 00 00 F0 14 24 00  |  ..............$. 
 00B0 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 1F 80 41  |  .WDUMP   COM...A 
 00C0 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 00D0 | 1F 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  ........$..WDUMP 
 00E0 | 20 20 20 43 4F 4D 00 20  80 41 00 00 FF FF 01 20  |     COM. .A.....  
 00F0 | 20 20 00 00 00 00 00 00  00 00 20 00 01 00 00 00  |    ........ ..... 
 0100 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 0110 | 00 21 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .!.A.....   .... 
 0120 | 00 00 00 00 21 00 01 00  00 00 F0 14 24 00 10 57  |  ....!.......$..W 
 0130 | 44 55 4D 50 20 20 20 43  4F 4D 00 22 80 41 00 00  |  DUMP   COM.".A.. 
 0140 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 22 00  |  ...   ........". 
 0150 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 0160 | 20 43 4F 4D 00 23 80 41  00 00 FF FF 01 20 20 20  |   COM.#.A.....    
 0170 | 00 00 00 00 00 00 00 00  23 00 01 00 00 00 F0 14  |  ........#....... 
 0180 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 24  |  $..WDUMP   COM.$ 
 0190 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 01A0 | 00 00 24 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..$.......$..WDU 
 01B0 | 4D 50 20 20 20 43 4F 4D  00 25 80 41 00 00 FF FF  |  MP   COM.%.A.... 
 01C0 | 01 20 20 20 00 00 00 00  00 00 00 00 25 00 01 00  |  .   ........%... 
 01D0 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 01E0 | 4F 4D 00 26 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM.&.A.....   .. 
 01F0 | 00 00 00 00 00 00 26 00  01 00 00 00 F0 14 24 00  |  ......&.......$. 
 0200 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 27 80 41  |  .WDUMP   COM.'.A 
 0210 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 0220 | 27 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  '.......$..WDUMP 
 0230 | 20 20 20 43 4F 4D 00 28  80 41 00 00 FF FF 01 20  |     COM.(.A.....  
 0240 | 20 20 00 00 00 00 00 00  00 00 28 00 01 00 00 00  |    ........(..... 
 0250 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 0260 | 00 29 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .).A.....   .... 
 0270 | 00 00 00 00 29 00 01 00  00 00 F0 14 24 00 10 57  |  ....).......$..W 
 0280 | 44 55 4D 50 20 20 20 43  4F 4D 00 2A 80 41 00 00  |  DUMP   COM.*.A.. 
 0290 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 2A 00  |  ...   ........*. 
 02A0 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 02B0 | 20 43 4F 4D 00 2B 80 41  00 00 FF FF 01 20 20 20  |   COM.+.A.....    
 02C0 | 00 00 00 00 00 00 00 00  2B 00 01 00 00 00 F0 14  |  ........+....... 
 02D0 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 2C  |  $..WDUMP   COM., 
 02E0 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 02F0 | 00 00 2C 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..,.......$..WDU 
 0300 | 4D 50 20 20 20 43 4F 4D  00 2D 80 41 00 00 FF FF  |  MP   COM.-.A.... 
 0310 | 01 20 20 20 00 00 00 00  00 00 00 00 2D 00 01 00  |  .   ........-... 
 0320 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 0330 | 4F 4D 00 2E 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM...A.....   .. 
 0340 | 00 00 00 00 00 00 2E 00  01 00 00 00 F0 14 24 00  |  ..............$. 
 0350 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 2F 80 41  |  .WDUMP   COM./.A 
 0360 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 0370 | 2F 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  /.......$..WDUMP 
 0380 | 20 20 20 43 4F 4D 00 30  80 41 00 00 FF FF 01 20  |     COM.0.A.....  
 0390 | 20 20 00 00 00 00 00 00  00 00 30 00 01 00 00 00  |    ........0..... 
 03A0 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 03B0 | 00 31 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .1.A.....   .... 
 03C0 | 00 00 00 00 31 00 01 00  00 00 F0 14 24 00 10 57  |  ....1.......$..W 
 03D0 | 44 55 4D 50 20 20 20 43  4F 4D 00 32 80 41 00 00  |  DUMP   COM.2.A.. 
 03E0 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 32 00  |  ...   ........2. 
 03F0 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 0400 | 20 43 4F 4D 00 33 80 41  00 00 FF FF 01 20 20 20  |   COM.3.A.....    
 0410 | 00 00 00 00 00 00 00 00  33 00 01 00 00 00 F0 14  |  ........3....... 
 0420 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 34  |  $..WDUMP   COM.4 
 0430 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 0440 | 00 00 34 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..4.......$..WDU 
 0450 | 4D 50 20 20 20 43 4F 4D  00 35 80 41 00 00 FF FF  |  MP   COM.5.A.... 
 0460 | 01 20 20 20 00 00 00 00  00 00 00 00 35 00 01 00  |  .   ........5... 
 0470 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 0480 | 4F 4D 00 36 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM.6.A.....   .. 
 0490 | 00 00 00 00 00 00 36 00  01 00 00 00 F0 14 24 00  |  ......6.......$. 
 04A0 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 37 80 41  |  .WDUMP   COM.7.A 
 04B0 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 04C0 | 37 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  7.......$..WDUMP 
 04D0 | 20 20 20 43 4F 4D 00 38  80 41 00 00 FF FF 01 20  |     COM.8.A.....  
 04E0 | 20 20 00 00 00 00 00 00  00 00 38 00 01 00 00 00  |    ........8..... 
 04F0 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 0500 | 00 39 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .9.A.....   .... 
 0510 | 00 00 00 00 39 00 01 00  00 00 F0 14 24 00 10 57  |  ....9.......$..W 
 0520 | 44 55 4D 50 20 20 20 43  4F 4D 00 3A 80 41 00 00  |  DUMP   COM.:.A.. 
 0530 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 3A 00  |  ...   ........:. 
 0540 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 0550 | 20 43 4F 4D 00 3B 80 41  00 00 FF FF 01 20 20 20  |   COM.;.A.....    
 0560 | 00 00 00 00 00 00 00 00  3B 00 01 00 00 00 F0 14  |  ........;....... 
 0570 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 3C  |  $..WDUMP   COM.< 
 0580 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 0590 | 00 00 3C 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..<.......$..WDU 
 05A0 | 4D 50 20 20 20 43 4F 4D  00 3D 80 41 00 00 FF FF  |  MP   COM.=.A.... 
 05B0 | 01 20 20 20 00 00 00 00  00 00 00 00 3D 00 01 00  |  .   ........=... 
 05C0 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 05D0 | 4F 4D 00 3E 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM.>.A.....   .. 
 05E0 | 00 00 00 00 00 00 3E 00  01 00 00 00 F0 14 24 00  |  ......>.......$. 
 05F0 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 3F 80 41  |  .WDUMP   COM.?.A 
 0600 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 0610 | 3F 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  ?.......$..WDUMP 
 0620 | 20 20 20 43 4F 4D 00 40  80 41 00 00 FF FF 01 20  |     COM.@.A.....  
 0630 | 20 20 00 00 00 00 00 00  00 00 40 00 01 00 00 00  |    ........@..... 
 0640 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 0650 | 00 41 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .A.A.....   .... 
 0660 | 00 00 00 00 41 00 01 00  4D 50 20 20 20 43 4F 4D  |  ....A...MP   COM 
 0670 | 00 11 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  ...A.....   .... 
 0680 | 00 00 00 00 11 00 01 00  00 00 F0 14 24 00 10 57  |  ............$..W 
 0690 | 44 55 4D 50 20 20 20 43  4F 4D 00 12 80 41 00 00  |  DUMP   COM...A.. 
 06A0 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 12 00  |  ...   .......... 
 06B0 | 01 00 00 00 F0 14 24 00  10 57 44 55 4D 50 20 20  |  ......$..WDUMP   
 06C0 | 20 43 4F 4D 00 13 80 41  00 00 FF FF 01 20 20 20  |   COM...A.....    
 06D0 | 00 00 00 00 00 00 00 00  13 00 01 00 00 00 F0 14  |  ................ 
 06E0 | 24 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 14  |  $..WDUMP   COM.. 
 06F0 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 0700 | 00 00 14 00 01 00 00 00  F0 14 24 00 10 57 44 55  |  ..........$..WDU 
 0710 | 4D 50 20 20 20 43 4F 4D  00 15 80 41 00 00 FF FF  |  MP   COM...A.... 
 0720 | 01 20 20 20 00 00 00 00  00 00 00 00 15 00 01 00  |  .   ............ 
 0730 | 00 00 F0 14 24 00 10 57  44 55 4D 50 20 20 20 43  |  ....$..WDUMP   C 
 0740 | 4F 4D 00 16 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM...A.....   .. 
 0750 | 00 00 00 00 00 00 16 00  01 00 00 00 F0 14 24 00  |  ..............$. 
 0760 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 17 80 41  |  .WDUMP   COM...A 
 0770 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 0780 | 17 00 01 00 00 00 F0 14  24 00 10 57 44 55 4D 50  |  ........$..WDUMP 
 0790 | 20 20 20 43 4F 4D 00 18  80 41 00 00 FF FF 01 20  |     COM...A.....  
 07A0 | 20 20 00 00 00 00 00 00  00 00 18 00 01 00 00 00  |    .............. 
 07B0 | F0 14 24 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  ..$..WDUMP   COM 
 07C0 | 00 19 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  ...A.....   .... 
 07D0 | 00 00 00 00 19 00 01 00  00 00 F0 14 24 00 10 57  |  ............$..W 
 07E0 | 44 55 4D 50 20 20 20 43  4F 4D 00 1A 80 41 00 00  |  DUMP   COM...A.. 
 07F0 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 1A 00  |  ...   .......... 

RX Buffer
 0000 | 34 58 0A 00 54 78 20 52  65 61 64 20 50 6F 69 6E  |  4X..Tx Read Poin 
 0010 | 74 65 72 20 20 20 20 20  20 20 20 20 20 30 78 25  |  ter          0x% 
 0020 | 30 34 58 0A 00 54 78 20  57 72 69 74 65 20 50 6F  |  04X..Tx Write Po 
 0030 | 69 6E 74 65 72 20 20 20  20 20 20 20 20 20 30 78  |  inter         0x 
 0040 | 25 30 34 58 0A 00 52 78  20 52 65 63 65 69 76 65  |  %04X..Rx Receive 
 0050 | 64 20 53 69 7A 65 20 20  20 20 20 20 20 20 20 30  |  d Size         0 
 0060 | 78 25 30 34 58 0A 00 52  78 20 52 65 61 64 20 50  |  x%04X..Rx Read P 
 0070 | 6F 69 6E 74 65 72 20 20  20 20 01 F0 00 14 A4 00  |  ointer    ...... 
 0080 | 10 57 44 55 4D 50 20 20  20 43 4F 4D 00 3D 80 41  |  .WDUMP   COM.=.A 
 0090 | 00 00 FF FF 01 20 20 20  00 00 00 00 00 00 00 00  |  .....   ........ 
 00A0 | 3D 00 01 00 20 20 20 20  20 20 30 78 25 30 34 58  |  =...      0x%04X 
 00B0 | 0A 00 52 78 20 57 72 69  74 65 20 50 6F 69 6E 74  |  ..Rx Write Point 
 00C0 | 65 72 20 20 20 20 20 20  20 20 20 30 78 25 30 34  |  er         0x%04 
 00D0 | 58 0A 00 49 6E 74 65 72  72 75 70 74 20 4D 61 73  |  X..Interrupt Mas 
 00E0 | 6B 20 20 20 20 20 20 20  20 20 20 20 30 78 25 30  |  k           0x%0 
 00F0 | 32 58 0A 00 46 72 61 67  6D 65 6E 74 20 4F 66 66  |  2X..Fragment Off 
 0100 | 20 69 6E 20 49 50 20 68  64 72 20 20 20 30 78 25  |   in IP hdr   0x% 
 0110 | 30 34 58 0A 00 4B 65 65  70 20 41 6C 69 76 65 20  |  04X..Keep Alive  
 0120 | 54 69 6D 65 01 F0 00 14  A4 00 10 57 44 55 4D 50  |  Time.......WDUMP 
 0130 | 20 20 20 43 4F 4D 00 3E  80 41 00 00 FF FF 01 20  |     COM.>.A.....  
 0140 | 20 20 00 00 00 00 00 00  00 00 3E 00 01 00 72 20  |    ........>...r  
 0150 | 20 20 20 20 20 20 20 20  30 78 25 30 32 58 0A 00  |          0x%02X.. 
 0160 | 20 25 30 34 58 20 7C 20  00 25 30 32 58 20 00 20  |   %04X | .%02X .  
 0170 | 00 7C 20 20 25 73 20 0A  00 20 20 20 00 6F 90 B3  |  .|  %s ..   .o.. 
 0180 | 1F 00 01 00 FE 00 00 1B  20 62 00 00 00 CD B2 01  |  ........ b...... 
 0190 | C3 45 02 01 02 01 B0 01  00 01 00 FE 00 00 21 20  |  .E............!  
 01A0 | 00 00 00 DB 1F 00 00 40  00 00 00 00 00 00 00 00  |  .......@........ 
 01B0 | 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |  ................ 
 01C0 | 00 00 00 00 00 00 00 00  00 00 00 00 00 00 01 F0  |  ................ 
 01D0 | 00 14 A4 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  .....WDUMP   COM 
 01E0 | 00 3F 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .?.A.....   .... 
 01F0 | 00 00 00 00 3F 00 01 00  00 00 00 00 00 00 00 00  |  ....?........... 
 0200 | 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |  ................ 
 0210 | 00 00 00 32 20 17 00 B9  1F CD B2 01 C3 4D 05 02  |  ...2 ........M.. 
 0220 | 02 02 70 23 00 01 00 FE  00 00 94 20 62 00 1B 20  |  ..p#....... b..  
 0230 | CD B2 01 C3 10 05 01 02  01 B0 01 00 01 00 FE 00  |  ................ 
 0240 | 00 9A 20 00 00 00 54 20  00 00 40 00 00 00 00 00  |  .. ...T ..@..... 
 0250 | 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |  ................ 
 0260 | 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |  ................ 
 0270 | 00 00 00 00 00 00 00 00  01 F0 00 14 A4 00 10 57  |  ...............W 
 0280 | 44 55 4D 50 20 20 20 43  4F 4D 00 40 80 41 00 00  |  DUMP   COM.@.A.. 
 0290 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 40 00  |  ...   ........@. 
 02A0 | 01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |  ................ 
 02B0 | 00 00 00 00 00 00 AB 20  17 00 32 20 CD B2 01 C3  |  ....... ..2 .... 
 02C0 | 69 06 02 02 02 70 23 00  01 00 FE 00 00 00 00 BF  |  i....p#......... 
 02D0 | 1F 21 20 21 20 38 20 9A  20 9A 20 BD 20 00 00 C3  |  .! ! 8 . . . ... 
 02E0 | BF 1F 40 02 00 00 00 02  00 FE 00 00 CE 20 BB 20  |  ..@.......... .  
 02F0 | C3 21 20 80 00 00 00 00  02 00 FE 00 00 DF 20 CC  |  .! ........... . 
 0300 | 20 C3 21 20 80 00 00 00  00 02 00 FE 00 00 F0 20  |   .! ...........  
 0310 | DD 20 C3 38 20 40 02 00  00 00 02 00 FE 00 00 01  |  . .8 @.......... 
 0320 | 21 EE 01 F0 00 14 A4 00  10 57 44 55 4D 50 20 20  |  !........WDUMP   
 0330 | 20 43 4F 4D 00 41 80 41  00 00 FF FF 01 20 20 20  |   COM.A.A.....    
 0340 | 00 00 00 00 00 00 00 00  41 00 01 00 20 C3 9A 20  |  ........A... ..  
 0350 | 80 00 00 00 00 02 00 FE  00 00 12 21 FF 20 C3 9A  |  ...........!. .. 
 0360 | 20 80 00 00 00 00 02 00  FE 00 00 10 21 00 00 21  |   ...........!..! 
 0370 | 21 01 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 1A 1A 1A 1A  |  !............... 
 0380 | 1A 1A 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 1A 1A 1A 1A  |  ................ 
 0390 | 1A 1A 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 1A 1A 1A 1A  |  ................ 
 03A0 | 1A 1A 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 1A 1A 1A 1A  |  ................ 
 03B0 | 1A 1A 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 1A 1A 1A 1A  |  ................ 
 03C0 | 1A 1A 1A 1A 1A 1A 1A 1A  1A 1A 1A 1A 01 F0 00 14  |  ................ 
 03D0 | 00 01 20 4C 01 F0 00 14  A4 00 10 57 44 55 4D 50  |  .. L.......WDUMP 
 03E0 | 20 20 20 43 4F 4D 00 36  80 41 00 00 FF FF 01 20  |     COM.6.A.....  
 03F0 | 20 20 00 00 00 00 00 00  00 00 36 00 01 00 43 50  |    ........6...CP 
 0400 | 20 52 65 71 75 65 73 74  20 54 69 6D 65 72 20 20  |   Request Timer   
 0410 | 20 20 30 78 25 30 32 58  0A 00 50 50 50 20 4C 43  |    0x%02X..PPP LC 
 0420 | 50 20 4D 61 67 69 63 20  4E 75 6D 62 65 72 20 20  |  P Magic Number   
 0430 | 20 20 20 30 78 25 30 32  58 0A 00 50 50 50 20 44  |     0x%02X..PPP D 
 0440 | 65 73 74 69 6E 61 74 69  6F 6E 20 4D 41 43 20 20  |  estination MAC   
 0450 | 20 20 20 20 25 30 32 58  3A 25 30 32 58 3A 25 30  |      %02X:%02X:%0 
 0460 | 32 58 3A 25 30 32 58 3A  25 30 32 58 3A 25 30 32  |  2X:%02X:%02X:%02 
 0470 | 58 0A 00 50 50 50 20 53  65 73 73 69 6F 6E 01 F0  |  X..PPP Session.. 
 0480 | 00 14 A4 00 10 57 44 55  4D 50 20 20 20 43 4F 4D  |  .....WDUMP   COM 
 0490 | 00 37 80 41 00 00 FF FF  01 20 20 20 00 00 00 00  |  .7.A.....   .... 
 04A0 | 00 00 00 00 37 00 01 00  20 49 64 65 6E 74 69 66  |  ....7... Identif 
 04B0 | 69 65 72 20 20 20 30 78  25 30 34 58 0A 00 50 50  |  ier   0x%04X..PP 
 04C0 | 50 20 4D 61 78 2E 20 53  65 67 6D 65 6E 74 20 53  |  P Max. Segment S 
 04D0 | 69 7A 65 20 20 20 20 30  78 25 30 34 58 0A 00 55  |  ize    0x%04X..U 
 04E0 | 6E 72 65 61 63 68 61 62  6C 65 20 49 50 20 41 64  |  nreachable IP Ad 
 04F0 | 64 72 20 20 20 20 20 20  25 64 2E 25 64 2E 25 64  |  dr      %d.%d.%d 
 0500 | 2E 25 64 0A 00 55 6E 72  65 61 63 68 61 62 6C 65  |  .%d..Unreachable 
 0510 | 20 50 6F 72 74 20 20 20  20 20 20 20 20 20 25 75  |   Port         %u 
 0520 | 0A 00 50 48 59 20 43 6F  01 F0 00 14 A4 00 10 57  |  ..PHY Co.......W 
 0530 | 44 55 4D 50 20 20 20 43  4F 4D 00 38 80 41 00 00  |  DUMP   COM.8.A.. 
 0540 | FF FF 01 20 20 20 00 00  00 00 00 00 00 00 38 00  |  ...   ........8. 
 0550 | 01 00 6E 66 69 67 75 72  61 74 69 6F 6E 20 20 20  |  ..nfiguration    
 0560 | 20 20 20 20 20 25 30 32  58 0A 00 43 68 69 70 20  |       %02X..Chip  
 0570 | 56 65 72 73 69 6F 6E 20  20 20 20 20 20 20 20 20  |  Version          
 0580 | 20 20 20 20 25 30 32 58  0A 00 4D 6F 64 65 20 09  |      %02X..Mode . 
 0590 | 09 09 20 20 20 20 20 20  20 20 20 20 20 20 30 78  |  ..            0x 
 05A0 | 25 30 32 58 0A 00 43 6F  6D 6D 61 6E 64 20 09 09  |  %02X..Command .. 
 05B0 | 20 20 20 20 20 20 20 20  20 20 20 20 30 78 25 30  |              0x%0 
 05C0 | 32 58 0A 00 49 6E 74 65  72 72 75 70 74 20 20 20  |  2X..Interrupt    
 05D0 | 20 20 01 F0 00 14 A4 00  10 57 44 55 4D 50 20 20  |    .......WDUMP   
 05E0 | 20 43 4F 4D 00 39 80 41  00 00 FF FF 01 20 20 20  |   COM.9.A.....    
 05F0 | 00 00 00 00 00 00 00 00  39 00 01 00 20 20 20 20  |  ........9...     
 0600 | 20 20 20 20 20 20 20 30  78 25 30 32 58 0A 00 53  |         0x%02X..S 
 0610 | 74 61 74 75 73 20 20 20  20 20 20 20 20 20 20 20  |  tatus            
 0620 | 20 20 20 20 20 20 20 20  30 78 25 30 32 58 0A 00  |          0x%02X.. 
 0630 | 53 6F 75 72 63 65 20 50  6F 72 74 20 20 20 20 20  |  Source Port      
 0640 | 20 20 20 20 20 20 20 20  20 25 64 0A 00 44 65 73  |           %d..Des 
 0650 | 74 69 6E 61 74 69 6F 6E  20 4D 41 43 20 41 64 64  |  tination MAC Add 
 0660 | 72 20 20 20 20 20 25 30  32 58 3A 25 30 32 58 3A  |  r     %02X:%02X: 
 0670 | 25 30 32 58 3A 25 30 32  58 3A 25 30 01 F0 00 14  |  %02X:%02X:%0.... 
 0680 | A4 00 10 57 44 55 4D 50  20 20 20 43 4F 4D 00 3A  |  ...WDUMP   COM.: 
 0690 | 80 41 00 00 FF FF 01 20  20 20 00 00 00 00 00 00  |  .A.....   ...... 
 06A0 | 00 00 3A 00 01 00 32 58  3A 25 30 32 58 0A 00 44  |  ..:...2X:%02X..D 
 06B0 | 65 73 74 69 6E 61 74 69  6F 6E 20 49 50 20 41 64  |  estination IP Ad 
 06C0 | 64 72 20 20 20 20 20 20  25 64 2E 25 64 2E 25 64  |  dr      %d.%d.%d 
 06D0 | 2E 25 64 0A 00 44 65 73  74 69 6E 61 74 69 6F 6E  |  .%d..Destination 
 06E0 | 20 50 6F 72 74 20 20 20  20 20 20 20 20 20 25 75  |   Port         %u 
 06F0 | 0A 00 4D 61 78 20 53 65  67 6D 65 6E 74 20 53 69  |  ..Max Segment Si 
 0700 | 7A 65 20 20 20 20 20 20  20 20 20 30 78 25 30 34  |  ze         0x%04 
 0710 | 58 0A 00 49 50 20 54 4F  53 20 20 20 20 20 20 20  |  X..IP TOS        
 0720 | 20 20 20 20 20 20 01 F0  00 14 A4 00 10 57 44 55  |        .......WDU 
 0730 | 4D 50 20 20 20 43 4F 4D  00 3B 80 41 00 00 FF FF  |  MP   COM.;.A.... 
 0740 | 01 20 20 20 00 00 00 00  00 00 00 00 3B 00 01 00  |  .   ........;... 
 0750 | 20 20 20 20 20 20 30 78  25 30 32 58 0A 00 49 50  |        0x%02X..IP 
 0760 | 20 54 54 4C 20 20 20 20  20 20 20 20 20 20 20 20  |   TTL             
 0770 | 20 20 20 20 20 20 20 30  78 25 30 32 58 0A 00 52  |         0x%02X..R 
 0780 | 65 63 65 69 76 65 20 42  75 66 66 65 72 20 53 69  |  eceive Buffer Si 
 0790 | 7A 65 20 20 20 20 20 20  25 64 0A 00 54 72 61 6E  |  ze      %d..Tran 
 07A0 | 73 6D 69 74 20 42 75 66  66 65 72 20 53 69 7A 65  |  smit Buffer Size 
 07B0 | 20 20 20 20 20 25 64 0A  00 54 78 20 46 72 65 65  |       %d..Tx Free 
 07C0 | 20 53 69 7A 65 20 20 20  20 20 20 20 20 20 20 20  |   Size            
 07D0 | 01 F0 00 14 A4 00 10 57  44 55 4D 50 20 20 20 43  |  .......WDUMP   C 
 07E0 | 4F 4D 00 3C 80 41 00 00  FF FF 01 20 20 20 00 00  |  OM.<.A.....   .. 
 07F0 | 00 00 00 00 00 00 3C 00  01 00 20 20 30 78 25 30  |  ......<...  0x%0 

Common Registers
 0000 | 00 C0 A8 B2 01 FF FF FF  00 00 AA BB CC DE 02 C0  |  ................ 
 0010 | A8 B2 19 00 00 00 00 01  00 07 D0 08 28 F0 00 00  |  ............(... 
 0020 | 00 00 00 00 00 00 FF FF  00 00 00 00 00 00 BF 00  |  ................ 
 0030 | 00 00 00 00 00 00 00 78  25                       |  .......x% 
Mode                     00
Gateway Addr             192.168.178.1
Subnet Mask              255.255.255.0
Source MAC Address       00:AA:BB:CC:DE:02
Source IP Addr           192.168.178.25
Interrupt Timer          0x0000
Interrupt                0x00
Interrupt Mask           0x00
Retry Time               0xD007
Retry Count              0x08
PPP LCP Request Timer    0x28
PPP LCP Magic Number     0xF0
PPP Destination MAC      00:00:00:00:00:00
PPP Session Identifier   0x802A
PPP Max. Segment Size    0x802C
Unreachable IP Addr      0.0.0.0
Unreachable Port         32818
PHY Configuration        BF
Chip Version             25

Socket 1 Registers
 0000 | 01 00 01 17 31 00 30 85  A9 3A 99 D1 C0 A8 B2 18  |  ....1.0..:...... 
 0010 | 79 7C 05 B4 00 00 80 00  00 00 00 00 00 00 02 02  |  y|.............. 
 0020 | 08 00 7E 68 7E 68 00 00  43 D2 43 D2 FF 40 00 00  |  ..~h~h..C.C..@.. 
Mode                                0x01
Command                             0x00
Interrupt                0x01
Status                   0x17
Source Port              49
Destination MAC Addr     30:85:A9:3A:99:D1
Destination IP Addr      192.168.178.24
Destination Port         31865
Max Segment Size         0xB405
IP TOS                   0x00
IP TTL                   0x80
Receive Buffer Size      2
Transmit Buffer Size     2
Tx Free Size             0x0008
Tx Read Pointer          0x687E
Tx Write Pointer         0x687E
Rx Received Size         0x0000
Rx Read Pointer          0xD243
Rx Write Pointer         0xD243
Interrupt Mask           0xFF
Fragment Off in IP hdr   0x0040
Keep Alive Timer         0x00

10:43 A0:SYSTEM>


